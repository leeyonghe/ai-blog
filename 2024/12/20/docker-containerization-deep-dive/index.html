<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- ê¸°ë³¸ SEO ë©”íƒ€ íƒœê·¸ -->
<title>Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸ | AI Development Blog</title>
<meta name="description" content="Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„graph TB    subgraph &quot;AudioCraft Docker Architecture&quot;        A[Host System] --&amp;gt; B[Docker Engine]        B --&amp;gt; C[AudioCraft Contai...">
<meta name="author" content="David Lee">
<meta name="keywords" content="AudioCraft, Docker, CUDA, PyTorch, Container Orchestration, MLOps">

<!-- ì •ê·œ URL -->
<link rel="canonical" href="https://leeyonghe.github.io/ai-blog/2024/12/20/docker-containerization-deep-dive/">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:title" content="Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸">
<meta property="og:description" content="Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„graph TB    subgraph &quot;AudioCraft Docker Architecture&quot;        A[Host System] --&amp;gt; B[Docker Engine]        B --&amp;gt; C[AudioCraft Contai...">
<meta property="og:url" content="https://leeyonghe.github.io/ai-blog/2024/12/20/docker-containerization-deep-dive/">
<meta property="og:site_name" content="AI Development Blog">

<meta property="og:locale" content="ko_KR">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸">
<meta name="twitter:description" content="Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„graph TB    subgraph &quot;AudioCraft Docker Architecture&quot;        A[Host System] --&amp;gt; B[Docker Engine]        B --&amp;gt; C[AudioCraft Contai...">



<!-- ê²€ìƒ‰ ì—”ì§„ ì¸ì¦ ë©”íƒ€ íƒœê·¸ -->



<!-- ì–¸ì–´ ë° ì§€ì—­ ì„¤ì • -->
<meta name="language" content="ko">
<meta name="geo.region" content="KR">
<meta name="geo.country" content="KR">

<!-- ì¶”ê°€ SEO ë©”íƒ€ íƒœê·¸ -->
<meta name="robots" content="index, follow">
<meta name="revisit-after" content="7 days">
<meta name="rating" content="general">

<!-- RSS í”¼ë“œ -->
<link rel="alternate" type="application/rss+xml" title="AI Development Blog" href="https://leeyonghe.github.io/ai-blog/feed.xml">

<!-- êµ¬ì¡°í™”ëœ ë°ì´í„° (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "AI Development Blog",
  "description": "AI ê°œë°œ ë° í”„ë ˆì„ì›Œí¬ ë¶„ì„ì„ ë‹¤ë£¨ëŠ” ê¸°ìˆ  ë¸”ë¡œê·¸ì…ë‹ˆë‹¤. Rust, Python, AI/ML í”„ë¡œì íŠ¸ì˜ ì‹¬ì¸µ ë¶„ì„ê³¼ ì‹¤ë¬´ ê²½í—˜ì„ ê³µìœ í•©ë‹ˆë‹¤.
",
  "url": "https://leeyonghe.github.io/ai-blog",
  "author": {
    "@type": "Person",
    "name": "David Lee",
    "email": "lee.yonghee.dev@gmail.com"
  },
  "inLanguage": "ko",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://leeyonghe.github.io/ai-blog/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<!-- ê°œë³„ í¬ìŠ¤íŠ¸ êµ¬ì¡°í™”ëœ ë°ì´í„° -->

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸",
  "description": "Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„


graph TB
    subgraph &quot;AudioCraft Docker Architecture&quot;
        A[Host System] --&amp;gt; B[Docker Engine]
        B --&amp;gt; C[AudioCraft ...",
  "image": "",
  "author": {
    "@type": "Person",
    "name": "David Lee"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AI Development Blog",
    "logo": {
      "@type": "ImageObject",
      "url": ""
    }
  },
  "datePublished": "2024-12-20T00:00:00+00:00",
  "dateModified": "2024-12-20T00:00:00+00:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://leeyonghe.github.io/ai-blog/2024/12/20/docker-containerization-deep-dive/"
  },
  "url": "https://leeyonghe.github.io/ai-blog/2024/12/20/docker-containerization-deep-dive/",
  "inLanguage": "ko",
  "keywords": ["AudioCraft","Docker","CUDA","PyTorch","Container Orchestration","MLOps"],
  "articleSection": ["DevOps","Docker","Containerization"]
}
</script>

<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/ai-blog/assets/css/style.css">
<link rel="stylesheet" href="/ai-blog/assets/css/post-detail.css">
<style>
/* Post Detail Page Styling */
.post-container article {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  padding: 40px;
  margin: 30px auto;
  max-width: 800px;
}

@media screen and (max-width: 768px) {
  .post-container article {
    margin: 20px;
    padding: 25px;
    border-radius: 8px;
  }
}

.post-container article .post-header {
  border-bottom: 2px solid #f5f5f5;
  padding-bottom: 25px;
  margin-bottom: 30px;
}

.post-container article .post-header .post-title {
  font-size: 2.2em;
  font-weight: 700;
  color: #2c3e50;
  line-height: 1.3;
  margin-bottom: 15px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-header .post-title {
    font-size: 1.8em;
  }
}

.post-container article .post-header .post-meta {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
}

.post-container article .post-header .post-meta .post-date {
  display: flex;
  align-items: center;
  color: #666;
  font-size: 0.9em;
}

.post-container article .post-header .post-meta .post-date i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper {
  display: flex;
  align-items: center;
}

.post-container article .post-header .post-meta .post-categories-wrapper i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories {
  display: flex;
  gap: 8px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8em;
  font-weight: 500;
  text-transform: capitalize;
}

.post-container article .post-content {
  font-size: 1.1em;
  line-height: 1.8;
  color: #333;
}

.post-container article .post-content p {
  margin-bottom: 1.2em;
}

.post-container article .post-content h1,
.post-container article .post-content h2,
.post-container article .post-content h3,
.post-container article .post-content h4,
.post-container article .post-content h5,
.post-container article .post-content h6 {
  color: #2c3e50;
  margin: 1.5em 0 0.8em 0;
  font-weight: 600;
}

.post-container article .post-content h2 {
  font-size: 1.8em;
  border-bottom: 2px solid #3498db;
  padding-bottom: 10px;
}

.post-container article .post-content h3 {
  font-size: 1.5em;
  color: #34495e;
}

.post-container article .post-content code {
  background: #f8f9fa;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.9em;
  color: #e74c3c;
}

.post-container article .post-content pre {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  padding: 15px;
  overflow-x: auto;
  margin: 1.5em 0;
}

.post-container article .post-content pre code {
  background: none;
  color: #333;
  padding: 0;
}

.post-container article .post-content blockquote {
  border-left: 4px solid #3498db;
  background: #f8f9fa;
  padding: 15px 20px;
  margin: 1.5em 0;
  font-style: italic;
  color: #555;
}

.post-container article .post-content img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 1.5em 0;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.post-container article .post-content ul,
.post-container article .post-content ol {
  padding-left: 1.5em;
  margin-bottom: 1.2em;
}

.post-container article .post-content ul li,
.post-container article .post-content ol li {
  margin-bottom: 0.5em;
}

.post-container article .post-content a {
  color: #3498db;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.3s ease;
}

.post-container article .post-content a:hover {
  border-bottom-color: #3498db;
}

.post-container article .post-footer {
  border-top: 2px solid #f5f5f5;
  padding-top: 25px;
  margin-top: 40px;
}

.post-container article .post-footer .post-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-footer .post-navigation {
    flex-direction: column;
    gap: 15px;
  }
}

.post-container article .post-footer .post-navigation .nav-previous,
.post-container article .post-footer .post-navigation .nav-next {
  flex: 1;
}

.post-container article .post-footer .post-navigation .nav-previous a,
.post-container article .post-footer .post-navigation .nav-next a {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.post-container article .post-footer .post-navigation .nav-previous a:hover,
.post-container article .post-footer .post-navigation .nav-next a:hover {
  background: #e9ecef;
  border-color: #3498db;
  transform: translateY(-2px);
}

.post-container article .post-footer .post-navigation .nav-previous a i,
.post-container article .post-footer .post-navigation .nav-next a i {
  color: #3498db;
  margin: 0 8px;
}

.post-container article .post-footer .post-navigation .nav-previous a .nav-title,
.post-container article .post-footer .post-navigation .nav-next a .nav-title {
  font-weight: 500;
}

.post-container article .post-footer .post-navigation .nav-previous a {
  justify-content: flex-start;
}

.post-container article .post-footer .post-navigation .nav-next a {
  justify-content: flex-end;
  text-align: right;
}
</style>
<title>Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸</title>

<script type="text/javascript" src="/ai-blog/assets/js/darkmode.js"></script>


<!-- Mermaid Diagram Support -->
<script type="text/javascript" src="/ai-blog/assets/js/mermaid-init.js"></script>
<link rel="stylesheet" href="/ai-blog/assets/css/network-diagrams.css">
<style>
/* Mermaid diagram styling - Network optimized */
.mermaid {
  text-align: center;
  margin: 2em 0;
  padding: 1.5em;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow-x: auto;
  position: relative;
}

.mermaid::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #3b82f6, #1d4ed8, #1e40af);
  border-radius: 12px 12px 0 0;
}

.mermaid svg {
  max-width: 100%;
  height: auto;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

/* Network diagram specific styling */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon {
  stroke-width: 2px;
  filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.12));
}

.mermaid .edgePath path {
  stroke-width: 2px;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.mermaid .cluster rect {
  stroke-width: 2px;
  stroke-dasharray: 5,5;
  opacity: 0.9;
}

/* Enhanced error styling */
.mermaid-error {
  color: #dc2626;
  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  border: 2px solid #fca5a5;
  border-radius: 12px;
  padding: 1.5em;
  text-align: center;
  font-style: italic;
  font-weight: 500;
  box-shadow: 0 4px 20px rgba(220, 38, 38, 0.1);
}

.mermaid-error::before {
  content: 'âš ï¸ ';
  font-size: 1.2em;
  margin-right: 0.5em;
}

/* Loading animation */
.mermaid.loading {
  min-height: 200px;
  background: linear-gradient(
    90deg,
    #f1f5f9 25%,
    #e2e8f0 50%,
    #f1f5f9 75%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Responsive Mermaid diagrams */
@media (max-width: 768px) {
  .mermaid {
    font-size: 0.85em;
    padding: 1em;
    margin: 1.5em 0;
    border-radius: 8px;
  }

  .mermaid svg {
    transform: scale(0.9);
    transform-origin: center;
  }
}

@media (max-width: 480px) {
  .mermaid {
    font-size: 0.75em;
    padding: 0.8em;
    margin: 1em 0;
  }

  .mermaid svg {
    transform: scale(0.8);
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .mermaid {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border-color: #475569;
    color: #f1f5f9;
  }

  .mermaid::before {
    background: linear-gradient(90deg, #60a5fa, #3b82f6, #2563eb);
  }

  .mermaid-error {
    background: linear-gradient(135deg, #451a03 0%, #7c2d12 100%);
    border-color: #dc2626;
    color: #fef2f2;
  }
}

/* Print styles */
@media print {
  .mermaid {
    background: white !important;
    border: 1px solid #ccc !important;
    box-shadow: none !important;
    break-inside: avoid;
  }

  .mermaid::before {
    display: none !important;
  }
}
</style>
</head><body>
  <main class="container">
    <section class="about">
      <div class="about-header condensed">
      <div class="about-title">
      <a href="/ai-blog/">
        
        <img src="/ai-blog/assets/portfolio.png" alt="David Lee" />
        
      </a>
      <h2 id="title">
        <a href="/ai-blog/">David Lee</a>
      </h2>
      </div><p class="tagline">Developer</p></div>
      
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </section>
    <section class="content">
      <style>
/* Post Detail Page Styling - Direct Inline */
.post-container article {
  background: #fff !important;
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  border-radius: 12px !important;
  box-shadow: none !important;
  padding: 40px !important;
  margin: 30px auto !important;
  max-width: 800px !important;
}

.post-container article .post-header .post-title {
  font-size: 2.2em !important;
  font-weight: 700 !important;
  color: #2c3e50 !important;
  line-height: 1.3 !important;
}

.post-container article .post-header {
  border-bottom: none !important;
  padding-bottom: 25px !important;
  margin-bottom: 30px !important;
}

.post-container article .post-content {
  font-size: 1.1em !important;
  line-height: 1.8 !important;
  color: #333 !important;
}

.post-container article .post-content h2 {
  font-size: 1.8em !important;
  border-bottom: none !important;
  padding-bottom: 10px !important;
  color: #2c3e50 !important;
}

.post-container article .post-header .post-meta .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 4px 12px !important;
  border-radius: 20px !important;
  font-size: 0.8em !important;
  list-style: none !important;
  display: inline-block !important;
  margin-right: 8px !important;
}

.post-container article .post-footer {
  border-top: none !important;
  padding-top: 25px !important;
  margin-top: 40px !important;
}

/* ëª¨ë“  borderì™€ box-shadow ê°•ì œ ì œê±° */
.post-container article *,
.post-container article *::before,
.post-container article *::after {
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* ì½”ë“œ ë¸”ë¡ê³¼ pre íƒœê·¸ë„ border, box-shadow ì œê±° */
.post-container article pre,
.post-container article code,
.post-container article .highlight,
.post-container article .highlighter-rouge {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}
</style><div class="post-container">
  <article>
    <header class="post-header">
    <h1 class="post-title">Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸</h1>
    <div class="post-meta">
      <div class="post-date">
        <i class="icon-calendar"></i>
        <time datetime="2024-12-20T00:00:00+00:00">Dec 20, 2024</time>
      </div><div class="post-categories-wrapper">
        <i class="icon-tag"></i>
        <ul class="post-categories"><li>DevOps</li><li>Docker</li><li>Containerization</li></ul>
      </div></div>
  </header>

  <div class="post-content">
    <h1 id="docker-ì»¨í…Œì´ë„ˆí™”-ì‹œìŠ¤í…œ-ì‹¬í™”-ë¶„ì„">Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„</h1>

<div class="mermaid">
graph TB
    subgraph "AudioCraft Docker Architecture"
        A[Host System] --&gt; B[Docker Engine]
        B --&gt; C[AudioCraft Container]
        
        subgraph "Container Layers"
            C --&gt; D[PyTorch Base Image]
            D --&gt; E[System Dependencies]
            E --&gt; F[Python Dependencies]
            F --&gt; G[AudioCraft Application]
            G --&gt; H[Model Files]
        end
        
        subgraph "Volume Mounts"
            I[Host Models] --&gt; J[/workspace/models]
            K[Host Code] --&gt; L[/workspace/audiocraft]
            M[Host Output] --&gt; N[/workspace/outputs]
        end
        
        subgraph "Network &amp; Ports"
            O[Host:8000] --&gt; P[Container:8000]
            Q[Host:7860] --&gt; R[Container:7860]
        end
        
        subgraph "GPU Access"
            S[NVIDIA Runtime] --&gt; T[CUDA 12.1]
            T --&gt; U[cuDNN 8]
            U --&gt; V[PyTorch GPU]
        end
        
        C --&gt; J
        C --&gt; L
        C --&gt; N
        C --&gt; P
        C --&gt; R
        C --&gt; V
    end
    
    style A fill:#e1f5fe
    style C fill:#ffcdd2
    style G fill:#c8e6c9
    style V fill:#fff3e0
</div>

<p>AudioCraft Custom í”„ë¡œì íŠ¸ì˜ ë§ˆì§€ë§‰ ë¶„ì„ìœ¼ë¡œ, ì „ì²´ ì‹œìŠ¤í…œì„ ì»¨í…Œì´ë„ˆí™”í•˜ëŠ” Docker êµ¬ì„±ì„ ì‹¬ì¸µì ìœ¼ë¡œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤. PyTorchì™€ CUDAë¥¼ í¬í•¨í•œ ë³µì¡í•œ AI ìŠ¤íƒì„ ì•ˆì •ì ìœ¼ë¡œ ë°°í¬í•˜ëŠ” ì „ëµê³¼ ì‹¤ì œ êµ¬í˜„ ë°©ë²•ì„ ë¶„ì„í•´ë³´ê² ìŠµë‹ˆë‹¤.</p>

<h2 id="-ëª©ì°¨">ğŸ“‹ ëª©ì°¨</h2>
<ol>
  <li><a href="#dockerfile-ì•„í‚¤í…ì²˜-ë¶„ì„">Dockerfile ì•„í‚¤í…ì²˜ ë¶„ì„</a></li>
  <li><a href="#ì˜ì¡´ì„±-ê´€ë¦¬-ì „ëµ">ì˜ì¡´ì„± ê´€ë¦¬ ì „ëµ</a></li>
  <li><a href="#docker-compose-ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜">Docker Compose ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜</a></li>
  <li><a href="#gpu-ì§€ì›-ë°-cuda-ì„¤ì •">GPU ì§€ì› ë° CUDA ì„¤ì •</a></li>
  <li><a href="#íŒ¨í‚¤ì§€-ì„¤ì¹˜-ë°-ìµœì í™”">íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ìµœì í™”</a></li>
  <li><a href="#ë°°í¬-í™˜ê²½-êµ¬ì„±">ë°°í¬ í™˜ê²½ êµ¬ì„±</a></li>
</ol>

<h2 id="dockerfile-ì•„í‚¤í…ì²˜-ë¶„ì„">Dockerfile ì•„í‚¤í…ì²˜ ë¶„ì„</h2>

<h3 id="ë² ì´ìŠ¤-ì´ë¯¸ì§€-ì„ íƒ">ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì„ íƒ</h3>

<div class="mermaid">
graph LR
    subgraph "Docker Image Hierarchy"
        A[ubuntu:20.04] --&gt; B[nvidia/cuda:12.1-runtime]
        B --&gt; C[pytorch/pytorch:2.1.0-cuda12.1-cudnn8-runtime]
        C --&gt; D[AudioCraft Custom Image]
        
        subgraph "Layer Components"
            E[Base OS]
            F[CUDA Runtime]
            G[PyTorch Framework]
            H[AudioCraft App]
        end
        
        A -.-&gt; E
        B -.-&gt; F
        C -.-&gt; G
        D -.-&gt; H
        
        subgraph "Size Optimization"
            I[Runtime Only]
            J[No Dev Tools]
            K[Minimal Packages]
        end
        
        C -.-&gt; I
        C -.-&gt; J
        D -.-&gt; K
    end
    
    style C fill:#ffcdd2
    style D fill:#c8e6c9
</div>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">FROM</span><span class="s"> pytorch/pytorch:2.1.0-cuda12.1-cudnn8-runtime</span>
</code></pre></div></div>

<h4 id="ï¸-ë² ì´ìŠ¤-ì´ë¯¸ì§€-ì „ëµ-ë¶„ì„">ğŸ—ï¸ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ì „ëµ ë¶„ì„</h4>
<ul>
  <li><strong>PyTorch ê³µì‹ ì´ë¯¸ì§€</strong>: ê²€ì¦ëœ ì•ˆì •ì„±ê³¼ ìµœì í™”</li>
  <li><strong>CUDA 12.1</strong>: ìµœì‹  CUDA ì§€ì›ìœ¼ë¡œ GPU ì„±ëŠ¥ ê·¹ëŒ€í™”</li>
  <li><strong>cuDNN 8</strong>: ë”¥ëŸ¬ë‹ ì—°ì‚° ê°€ì†í™” ë¼ì´ë¸ŒëŸ¬ë¦¬</li>
  <li><strong>Runtime ë²„ì „</strong>: ê°œë°œ ë„êµ¬ ì œì™¸ë¡œ ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”</li>
</ul>

<h4 id="-ë²„ì „-í˜¸í™˜ì„±-ë§¤íŠ¸ë¦­ìŠ¤">ğŸ’¡ ë²„ì „ í˜¸í™˜ì„± ë§¤íŠ¸ë¦­ìŠ¤</h4>
<p>| êµ¬ì„± ìš”ì†Œ | ë²„ì „ | í˜¸í™˜ì„± |
|â€”â€”â€”-|â€”â€”|â€”â€”â€“|
| PyTorch | 2.1.0 | âœ… ìµœì‹  ì•ˆì • ë²„ì „ |
| CUDA | 12.1 | âœ… RTX 40xx ì‹œë¦¬ì¦ˆ ì§€ì› |
| cuDNN | 8 | âœ… ìµœì ì˜ ì„±ëŠ¥ |
| Python | 3.10+ | âœ… í˜„ëŒ€ì  ì–¸ì–´ ê¸°ëŠ¥ |</p>

<h3 id="ì‹œìŠ¤í…œ-ë ˆë²¨-êµ¬ì„±">ì‹œìŠ¤í…œ ë ˆë²¨ êµ¬ì„±</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì‘ì—… ë””ë ‰í† ë¦¬ ì„¤ì •</span>
<span class="k">WORKDIR</span><span class="s"> /workspace</span>

<span class="c"># ì‹œìŠ¤í…œ ì˜ì¡´ì„± ì„¤ì¹˜</span>
<span class="k">ENV</span><span class="s"> DEBIAN_FRONTEND=noninteractive</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> <span class="se">\
</span>    ffmpeg <span class="se">\
</span>    libsndfile1 <span class="se">\
</span>    build-essential <span class="se">\
</span>    <span class="o">&amp;&amp;</span> <span class="nb">rm</span> <span class="nt">-rf</span> /var/lib/apt/lists/<span class="k">*</span>
</code></pre></div></div>

<h4 id="-ì‹œìŠ¤í…œ-ì˜ì¡´ì„±-ë¶„ì„">ğŸ”§ ì‹œìŠ¤í…œ ì˜ì¡´ì„± ë¶„ì„</h4>
<ul>
  <li><strong>ffmpeg</strong>: ë‹¤ì–‘í•œ ì˜¤ë””ì˜¤/ë¹„ë””ì˜¤ í¬ë§· ì²˜ë¦¬</li>
  <li><strong>libsndfile1</strong>: ê³ í’ˆì§ˆ ì˜¤ë””ì˜¤ íŒŒì¼ I/O</li>
  <li><strong>build-essential</strong>: C/C++ ì»´íŒŒì¼ëŸ¬ íˆ´ì²´ì¸</li>
  <li><strong>ë¹„ëŒ€í™”í˜• ëª¨ë“œ</strong>: ë¬´ì¸ ì„¤ì¹˜ë¥¼ ìœ„í•œ í™˜ê²½ ë³€ìˆ˜</li>
</ul>

<h4 id="ï¸-ì´ë¯¸ì§€-í¬ê¸°-ìµœì í™”">ğŸ—‘ï¸ ì´ë¯¸ì§€ í¬ê¸° ìµœì í™”</h4>
<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&amp;&amp; rm -rf /var/lib/apt/lists/*
</code></pre></div></div>
<ul>
  <li><strong>ìºì‹œ ì •ë¦¬</strong>: íŒ¨í‚¤ì§€ ëª©ë¡ ì‚­ì œë¡œ ì´ë¯¸ì§€ í¬ê¸° ê°ì†Œ</li>
  <li><strong>ë ˆì´ì–´ ìµœì í™”</strong>: ë‹¨ì¼ RUN ëª…ë ¹ìœ¼ë¡œ ë ˆì´ì–´ ìˆ˜ ìµœì†Œí™”</li>
</ul>

<h3 id="python-ê°€ìƒí™˜ê²½-ì„¤ì •">Python ê°€ìƒí™˜ê²½ ì„¤ì •</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Python ê°€ìƒí™˜ê²½ ìƒì„± ë° í™œì„±í™”</span>
<span class="k">RUN </span>python <span class="nt">-m</span> venv /opt/venv
<span class="k">ENV</span><span class="s"> PATH="/opt/venv/bin:$PATH"</span>
</code></pre></div></div>

<h4 id="-ê°€ìƒí™˜ê²½-ì „ëµ">ğŸ ê°€ìƒí™˜ê²½ ì „ëµ</h4>
<ul>
  <li><strong>ê²©ë¦¬ëœ í™˜ê²½</strong>: ì‹œìŠ¤í…œ Pythonê³¼ ë¶„ë¦¬</li>
  <li><strong>ê²½ë¡œ ìš°ì„ ìˆœìœ„</strong>: PATH í™˜ê²½ë³€ìˆ˜ë¡œ ê°€ìƒí™˜ê²½ ìš°ì„  ì‹¤í–‰</li>
  <li><strong>ì˜ì¡´ì„± ì¶©ëŒ ë°©ì§€</strong>: íŒ¨í‚¤ì§€ ë²„ì „ ì¶©ëŒ ìµœì†Œí™”</li>
</ul>

<h2 id="ì˜ì¡´ì„±-ê´€ë¦¬-ì „ëµ">ì˜ì¡´ì„± ê´€ë¦¬ ì „ëµ</h2>

<h3 id="requirementstxt-ë¶„ì„">Requirements.txt ë¶„ì„</h3>

<pre><code class="language-pip-requirements"># í•µì‹¬ PyTorch ìŠ¤íƒ
torch==2.1.0
torchaudio&gt;=2.0.0,&lt;2.1.2
torchvision==0.16.0
torchtext==0.16.0

# ì˜¤ë””ì˜¤ ì²˜ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
av==11.0.0
librosa
soundfile
encodec
pesq
pystoi

# ì›¹ í”„ë ˆì„ì›Œí¬
fastapi==0.104.1
uvicorn==0.24.0
python-multipart==0.0.6

# ML/AI ë„êµ¬
transformers&gt;=4.31.0
huggingface_hub
einops
xformers&lt;0.0.23

# ìœ í‹¸ë¦¬í‹°
numpy&lt;2.0.0
tqdm
protobuf
gradio
</code></pre>

<h4 id="-ì˜ì¡´ì„±-ì¹´í…Œê³ ë¦¬-ë¶„ì„">ğŸ“¦ ì˜ì¡´ì„± ì¹´í…Œê³ ë¦¬ ë¶„ì„</h4>

<h5 id="-í•µì‹¬-ai-ìŠ¤íƒ">ğŸ”¥ í•µì‹¬ AI ìŠ¤íƒ</h5>
<ul>
  <li><strong>PyTorch ìƒíƒœê³„</strong>: torch, torchaudio, torchvision í†µí•©</li>
  <li><strong>ì •í™•í•œ ë²„ì „</strong>: í˜¸í™˜ì„± ë³´ì¥ì„ ìœ„í•œ ì—„ê²©í•œ ë²„ì „ ê³ ì •</li>
  <li><strong>xformers</strong>: Transformer ëª¨ë¸ ë©”ëª¨ë¦¬ ìµœì í™”</li>
</ul>

<h5 id="-ì˜¤ë””ì˜¤-ì²˜ë¦¬-ìŠ¤íƒ">ğŸµ ì˜¤ë””ì˜¤ ì²˜ë¦¬ ìŠ¤íƒ</h5>
<ul>
  <li><strong>ë‹¤ì¤‘ ë°±ì—”ë“œ</strong>: av, librosa, soundfileë¡œ ë‹¤ì–‘í•œ í¬ë§· ì§€ì›</li>
  <li><strong>í’ˆì§ˆ í‰ê°€</strong>: pesq, pystoië¡œ ì˜¤ë””ì˜¤ í’ˆì§ˆ ë©”íŠ¸ë¦­</li>
  <li><strong>ì••ì¶• ê¸°ìˆ </strong>: encodecë¡œ ì‹ ê²½ë§ ì˜¤ë””ì˜¤ ì••ì¶•</li>
</ul>

<h5 id="-ì›¹-ì„œë¹„ìŠ¤-ìŠ¤íƒ">ğŸŒ ì›¹ ì„œë¹„ìŠ¤ ìŠ¤íƒ</h5>
<ul>
  <li><strong>ë¹„ë™ê¸° ì²˜ë¦¬</strong>: FastAPI + uvicornìœ¼ë¡œ ê³ ì„±ëŠ¥ API</li>
  <li><strong>íŒŒì¼ ì—…ë¡œë“œ</strong>: python-multipartë¡œ ë©€í‹°íŒŒíŠ¸ í¼ ì§€ì›</li>
  <li><strong>ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤</strong>: gradioë¡œ ê°„í¸í•œ ì›¹ UI</li>
</ul>

<h3 id="íŒ¨í‚¤ì§€-ì„¤ì¹˜-ì „ëµ">íŒ¨í‚¤ì§€ ì„¤ì¹˜ ì „ëµ</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ì• í”Œë¦¬ì¼€ì´ì…˜ íŒŒì¼ ë³µì‚¬</span>
<span class="k">COPY</span><span class="s"> . .</span>

<span class="c"># Python ì˜ì¡´ì„± ì„¤ì¹˜</span>
<span class="k">RUN </span>pip <span class="nb">install</span> <span class="nt">--no-cache-dir</span> <span class="nt">-r</span> requirements.txt

<span class="c"># audiocraft íŒ¨í‚¤ì§€ ì„¤ì¹˜</span>
<span class="k">RUN </span>pip <span class="nb">install</span> <span class="nt">-e</span> .
</code></pre></div></div>

<h4 id="-ì„¤ì¹˜-ìµœì í™”-ê¸°ë²•">ğŸš€ ì„¤ì¹˜ ìµœì í™” ê¸°ë²•</h4>
<ul>
  <li><strong>ìºì‹œ ë¹„í™œì„±í™”</strong>: <code class="language-plaintext highlighter-rouge">--no-cache-dir</code>ë¡œ ì´ë¯¸ì§€ í¬ê¸° ê°ì†Œ</li>
  <li><strong>ê°œë°œ ëª¨ë“œ</strong>: <code class="language-plaintext highlighter-rouge">-e</code> í”Œë˜ê·¸ë¡œ í¸ì§‘ ê°€ëŠ¥í•œ ì„¤ì¹˜</li>
  <li><strong>ìˆœì„œ ìµœì í™”</strong>: ìš”êµ¬ì‚¬í•­ ë¨¼ì €, ë¡œì»¬ íŒ¨í‚¤ì§€ ë‚˜ì¤‘ì—</li>
</ul>

<h2 id="docker-compose-ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜">Docker Compose ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜</h2>

<h3 id="ì„œë¹„ìŠ¤-ì •ì˜">ì„œë¹„ìŠ¤ ì •ì˜</h3>

<pre><code class="language-dockercompose">services:
  audiocraft:
    tty: true
    build:
      context: .
      dockerfile: Dockerfile
    volumes:
      - .:/workspace  # í˜„ì¬ ë””ë ‰í† ë¦¬ë¥¼ ì»¨í…Œì´ë„ˆì˜ /workspaceì— ë§ˆìš´íŠ¸
      - ./dataset:/workspace/dataset  # ë°ì´í„°ì…‹ ë””ë ‰í† ë¦¬ ë§ˆìš´íŠ¸
      - ./api:/workspace/api  # API ë””ë ‰í† ë¦¬ ë§ˆìš´íŠ¸
    ports:
      - "8000:8000"  # FastAPI ê¸°ë³¸ í¬íŠ¸
</code></pre>

<h4 id="-ë³¼ë¥¨-ë§ˆìš´íŠ¸-ì „ëµ">ğŸ’¾ ë³¼ë¥¨ ë§ˆìš´íŠ¸ ì „ëµ</h4>
<ul>
  <li><strong>ì „ì²´ í”„ë¡œì íŠ¸</strong>: ê°œë°œ ì‹œ ì‹¤ì‹œê°„ ì½”ë“œ ë°˜ì˜</li>
  <li><strong>ë°ì´í„°ì…‹ ë¶„ë¦¬</strong>: ëŒ€ìš©ëŸ‰ ë°ì´í„°ì˜ ë…ë¦½ì  ê´€ë¦¬</li>
  <li><strong>API ë””ë ‰í† ë¦¬</strong>: ì„œë¹„ìŠ¤ ì½”ë“œì˜ í•« ë¦¬ë¡œë“œ ì§€ì›</li>
</ul>

<h4 id="-í¬íŠ¸-ë§¤í•‘">ğŸ”Œ í¬íŠ¸ ë§¤í•‘</h4>
<ul>
  <li><strong>8000:8000</strong>: FastAPI ì„œë²„ í‘œì¤€ í¬íŠ¸</li>
  <li><strong>í˜¸ìŠ¤íŠ¸ ì ‘ê·¼</strong>: ë¡œì»¬ ê°œë°œ í™˜ê²½ì—ì„œ ì§ì ‘ ì ‘ê·¼ ê°€ëŠ¥</li>
</ul>

<h3 id="gpu-ë¦¬ì†ŒìŠ¤-ê´€ë¦¬">GPU ë¦¬ì†ŒìŠ¤ ê´€ë¦¬</h3>

<pre><code class="language-dockercompose">deploy:
  resources:
    reservations:
      devices:
        - driver: nvidia  # NVIDIA GPU ì‚¬ìš© ì„¤ì •
          count: 1
          capabilities: [gpu]
environment:
  - NVIDIA_VISIBLE_DEVICES=all  # ëª¨ë“  GPU ì‚¬ìš© ê°€ëŠ¥í•˜ë„ë¡ ì„¤ì •
</code></pre>

<h4 id="-gpu-í• ë‹¹-ì „ëµ">ğŸ¯ GPU í• ë‹¹ ì „ëµ</h4>
<ul>
  <li><strong>ë‹¨ì¼ GPU</strong>: ì»¨í…Œì´ë„ˆë‹¹ 1ê°œ GPU ì˜ˆì•½</li>
  <li><strong>NVIDIA ë“œë¼ì´ë²„</strong>: ê³µì‹ NVIDIA ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ ì‚¬ìš©</li>
  <li><strong>ì „ì²´ GPU ê°€ì‹œì„±</strong>: ëª¨ë“  GPUë¥¼ ì»¨í…Œì´ë„ˆì—ì„œ ì‚¬ìš© ê°€ëŠ¥</li>
</ul>

<h2 id="gpu-ì§€ì›-ë°-cuda-ì„¤ì •">GPU ì§€ì› ë° CUDA ì„¤ì •</h2>

<h3 id="cuda-í™˜ê²½-êµ¬ì„±">CUDA í™˜ê²½ êµ¬ì„±</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">ENV</span><span class="s"> PYTHONPATH=/workspace</span>
<span class="k">ENV</span><span class="s"> HUGGING_FACE_HUB_TOKEN=${HUGGING_FACE_HUB_TOKEN}</span>
</code></pre></div></div>

<h4 id="ï¸-í™˜ê²½-ë³€ìˆ˜-ì„¤ì •">âš™ï¸ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •</h4>
<ul>
  <li><strong>PYTHONPATH</strong>: ëª¨ë“ˆ íƒìƒ‰ ê²½ë¡œ ì„¤ì •</li>
  <li><strong>HF_TOKEN</strong>: Hugging Face ëª¨ë¸ ë‹¤ìš´ë¡œë“œ ì¸ì¦</li>
  <li><strong>ëŸ°íƒ€ì„ ì£¼ì…</strong>: ë¹Œë“œ ì‹œ í† í° ë…¸ì¶œ ë°©ì§€</li>
</ul>

<h3 id="gpu-ë©”ëª¨ë¦¬-ìµœì í™”">GPU ë©”ëª¨ë¦¬ ìµœì í™”</h3>

<p>Docker Compose ì„¤ì •ì„ í†µí•œ GPU ë©”ëª¨ë¦¬ ê´€ë¦¬:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">environment</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">CUDA_VISIBLE_DEVICES=0</span>  <span class="c1"># íŠ¹ì • GPU ì‚¬ìš© ì§€ì •</span>
  <span class="pi">-</span> <span class="s">PYTORCH_CUDA_ALLOC_CONF=max_split_size_mb:512</span>  <span class="c1"># ë©”ëª¨ë¦¬ í• ë‹¹ ìµœì í™”</span>
</code></pre></div></div>

<h4 id="-ë©”ëª¨ë¦¬-ìµœì í™”-ì „ëµ">ğŸ’¾ ë©”ëª¨ë¦¬ ìµœì í™” ì „ëµ</h4>
<ul>
  <li><strong>ë©”ëª¨ë¦¬ ë¶„í• </strong>: í° ëª¨ë¸ì„ ìœ„í•œ ë©”ëª¨ë¦¬ ì„¸ê·¸ë¨¼íŠ¸ ìµœì í™”</li>
  <li><strong>GPU ì„ íƒ</strong>: ë©€í‹° GPU í™˜ê²½ì—ì„œ íŠ¹ì • GPU ì§€ì •</li>
  <li><strong>OOM ë°©ì§€</strong>: Out of Memory ì—ëŸ¬ ì˜ˆë°©</li>
</ul>

<h2 id="íŒ¨í‚¤ì§€-ì„¤ì¹˜-ë°-ìµœì í™”">íŒ¨í‚¤ì§€ ì„¤ì¹˜ ë° ìµœì í™”</h2>

<h3 id="setuppy-ë¶„ì„">Setup.py ë¶„ì„</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">NAME</span> <span class="o">=</span> <span class="s">'audiocraft'</span>
<span class="n">DESCRIPTION</span> <span class="o">=</span> <span class="s">'Audio generation research library for PyTorch'</span>
<span class="n">VERSION</span> <span class="o">=</span> <span class="n">context</span><span class="p">[</span><span class="s">'__version__'</span><span class="p">]</span>  <span class="c1"># ë™ì  ë²„ì „ ì¶”ì¶œ
</span>
<span class="n">REQUIRED</span> <span class="o">=</span> <span class="p">[</span><span class="n">i</span><span class="p">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">open</span><span class="p">(</span><span class="n">HERE</span> <span class="o">/</span> <span class="s">'requirements.txt'</span><span class="p">)</span> <span class="k">if</span> <span class="ow">not</span> <span class="n">i</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'#'</span><span class="p">)]</span>

<span class="n">setup</span><span class="p">(</span>
    <span class="n">name</span><span class="o">=</span><span class="n">NAME</span><span class="p">,</span>
    <span class="n">version</span><span class="o">=</span><span class="n">VERSION</span><span class="p">,</span>
    <span class="n">description</span><span class="o">=</span><span class="n">DESCRIPTION</span><span class="p">,</span>
    <span class="n">python_requires</span><span class="o">=</span><span class="s">'&gt;=3.8.0'</span><span class="p">,</span>
    <span class="n">install_requires</span><span class="o">=</span><span class="n">REQUIRED</span><span class="p">,</span>
    <span class="n">extras_require</span><span class="o">=</span><span class="p">{</span>
        <span class="s">'dev'</span><span class="p">:</span> <span class="p">[</span><span class="s">'coverage'</span><span class="p">,</span> <span class="s">'flake8'</span><span class="p">,</span> <span class="s">'mypy'</span><span class="p">,</span> <span class="s">'pdoc3'</span><span class="p">,</span> <span class="s">'pytest'</span><span class="p">],</span>
        <span class="s">'wm'</span><span class="p">:</span> <span class="p">[</span><span class="s">'audioseal'</span><span class="p">],</span>
    <span class="p">},</span>
    <span class="n">packages</span><span class="o">=</span><span class="p">[</span><span class="n">p</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">find_packages</span><span class="p">()</span> <span class="k">if</span> <span class="n">p</span><span class="p">.</span><span class="n">startswith</span><span class="p">(</span><span class="s">'audiocraft'</span><span class="p">)],</span>
    <span class="n">package_data</span><span class="o">=</span><span class="p">{</span><span class="s">'audiocraft'</span><span class="p">:</span> <span class="p">[</span><span class="s">'py.typed'</span><span class="p">]},</span>
    <span class="n">include_package_data</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="-íŒ¨í‚¤ì§€-ë©”íƒ€ë°ì´í„°">ğŸ“‹ íŒ¨í‚¤ì§€ ë©”íƒ€ë°ì´í„°</h4>
<ul>
  <li><strong>ë™ì  ë²„ì „</strong>: <code class="language-plaintext highlighter-rouge">__init__.py</code>ì—ì„œ ë²„ì „ ìë™ ì¶”ì¶œ</li>
  <li><strong>ìš”êµ¬ì‚¬í•­ íŒŒì‹±</strong>: requirements.txtì—ì„œ ì˜ì¡´ì„± ìë™ ë¡œë“œ</li>
  <li><strong>ì„ íƒì  ì˜ì¡´ì„±</strong>: dev, wm ë“± ìš©ë„ë³„ ì¶”ê°€ íŒ¨í‚¤ì§€</li>
</ul>

<h4 id="-íƒ€ì…-íŒíŠ¸-ì§€ì›">ğŸ¯ íƒ€ì… íŒíŠ¸ ì§€ì›</h4>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">package_data</span><span class="o">=</span><span class="p">{</span><span class="s">'audiocraft'</span><span class="p">:</span> <span class="p">[</span><span class="s">'py.typed'</span><span class="p">]}</span>
</code></pre></div></div>
<ul>
  <li><strong>íƒ€ì… ì •ë³´</strong>: MyPy ë“± ì •ì  íƒ€ì… ê²€ì‚¬ ë„êµ¬ ì§€ì›</li>
  <li><strong>IDE ì§€ì›</strong>: í–¥ìƒëœ ì½”ë“œ ì™„ì„±ê³¼ ì˜¤ë¥˜ ê²€ì¶œ</li>
</ul>

<h3 id="ì´ë¯¸ì§€-ë¹Œë“œ-ìµœì í™”">ì´ë¯¸ì§€ ë¹Œë“œ ìµœì í™”</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># ë‹¤ë‹¨ê³„ ë¹Œë“œ ì˜ˆì‹œ (í”„ë¡œë•ì…˜ ìµœì í™”)</span>
<span class="k">FROM</span><span class="w"> </span><span class="s">pytorch/pytorch:2.1.0-cuda12.1-cudnn8-devel</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">builder</span>
<span class="c"># ë¹Œë“œ ë„êµ¬ì™€ ì»´íŒŒì¼ëŸ¬ ì„¤ì¹˜</span>
<span class="k">RUN </span>apt-get update <span class="o">&amp;&amp;</span> apt-get <span class="nb">install</span> <span class="nt">-y</span> build-essential

<span class="k">FROM</span><span class="w"> </span><span class="s">pytorch/pytorch:2.1.0-cuda12.1-cudnn8-runtime</span><span class="w"> </span><span class="k">AS</span><span class="w"> </span><span class="s">runtime</span>
<span class="c"># ìµœì¢… ëŸ°íƒ€ì„ ì´ë¯¸ì§€</span>
<span class="k">COPY</span><span class="s"> --from=builder /compiled/packages /opt/packages</span>
</code></pre></div></div>

<h4 id="ï¸-ë¹Œë“œ-ìµœì í™”-ì „ëµ">ğŸ—ï¸ ë¹Œë“œ ìµœì í™” ì „ëµ</h4>
<ul>
  <li><strong>ë‹¤ë‹¨ê³„ ë¹Œë“œ</strong>: ë¹Œë“œ ë„êµ¬ì™€ ëŸ°íƒ€ì„ ë¶„ë¦¬</li>
  <li><strong>ë ˆì´ì–´ ìºì‹±</strong>: ë³€ê²½ì´ ì ì€ ë¶€ë¶„ì„ ë¨¼ì € ë³µì‚¬</li>
  <li><strong>ìµœì†Œ ëŸ°íƒ€ì„</strong>: ë¶ˆí•„ìš”í•œ ê°œë°œ ë„êµ¬ ì œê±°</li>
</ul>

<h2 id="ë°°í¬-í™˜ê²½-êµ¬ì„±">ë°°í¬ í™˜ê²½ êµ¬ì„±</h2>

<h3 id="ì»¨í…Œì´ë„ˆ-ì‹¤í–‰-ëª…ë ¹">ì»¨í…Œì´ë„ˆ ì‹¤í–‰ ëª…ë ¹</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># FastAPI ì„œë²„ í¬íŠ¸ ë…¸ì¶œ</span>
<span class="k">EXPOSE</span><span class="s"> 8000</span>

<span class="c"># FastAPI ì„œë²„ ì‹¤í–‰</span>
<span class="k">CMD</span><span class="s"> ["uvicorn", "api.main:app", "--host", "0.0.0.0", "--port", "8000"]</span>
</code></pre></div></div>

<h4 id="-ì„œë²„-ì‹¤í–‰-ì „ëµ">ğŸš€ ì„œë²„ ì‹¤í–‰ ì „ëµ</h4>
<ul>
  <li><strong>í¬íŠ¸ ë…¸ì¶œ</strong>: ì»¨í…Œì´ë„ˆ í¬íŠ¸ 8000 ì™¸ë¶€ ì ‘ê·¼ í—ˆìš©</li>
  <li><strong>í˜¸ìŠ¤íŠ¸ ë°”ì¸ë”©</strong>: 0.0.0.0ìœ¼ë¡œ ëª¨ë“  ì¸í„°í˜ì´ìŠ¤ì—ì„œ ìˆ˜ì‹ </li>
  <li><strong>í”„ë¡œë•ì…˜ ì„¤ì •</strong>: uvicorn ASGI ì„œë²„ë¡œ ê³ ì„±ëŠ¥ ì²˜ë¦¬</li>
</ul>

<h3 id="í™˜ê²½ë³„-ì„¤ì •-ê´€ë¦¬">í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># docker-compose.prod.yml (í”„ë¡œë•ì…˜ ì˜ˆì‹œ)</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">audiocraft</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">audiocraft:latest</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">ENVIRONMENT=production</span>
      <span class="pi">-</span> <span class="s">LOG_LEVEL=warning</span>
      <span class="pi">-</span> <span class="s">WORKERS=4</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">replicas</span><span class="pi">:</span> <span class="m">3</span>
      <span class="na">resources</span><span class="pi">:</span>
        <span class="na">limits</span><span class="pi">:</span>
          <span class="na">memory</span><span class="pi">:</span> <span class="s">8G</span>
          <span class="na">gpus</span><span class="pi">:</span> <span class="m">1</span>
</code></pre></div></div>

<h4 id="-í”„ë¡œë•ì…˜-ìµœì í™”">ğŸ­ í”„ë¡œë•ì…˜ ìµœì í™”</h4>
<ul>
  <li><strong>ë³µì œë³¸</strong>: ë¡œë“œ ë°¸ëŸ°ì‹±ì„ ìœ„í•œ ë‹¤ì¤‘ ì¸ìŠ¤í„´ìŠ¤</li>
  <li><strong>ë¦¬ì†ŒìŠ¤ ì œí•œ</strong>: ë©”ëª¨ë¦¬ì™€ GPU ì‚¬ìš©ëŸ‰ ì œí•œ</li>
  <li><strong>ë¡œê¹…</strong>: í”„ë¡œë•ì…˜ ë ˆë²¨ ë¡œê·¸ ì„¤ì •</li>
</ul>

<h3 id="í—¬ìŠ¤-ì²´í¬-êµ¬ì„±">í—¬ìŠ¤ ì²´í¬ êµ¬ì„±</h3>

<div class="language-dockerfile highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># í—¬ìŠ¤ ì²´í¬ ì¶”ê°€</span>
<span class="k">HEALTHCHECK</span><span class="s"> --interval=30s --timeout=30s --start-period=5s --retries=3 \</span>
  CMD curl -f http://localhost:8000/health || exit 1
</code></pre></div></div>

<h4 id="-ìƒíƒœ-ëª¨ë‹ˆí„°ë§">ğŸ¥ ìƒíƒœ ëª¨ë‹ˆí„°ë§</h4>
<ul>
  <li><strong>ì •ê¸° ì ê²€</strong>: 30ì´ˆë§ˆë‹¤ í—¬ìŠ¤ ì²´í¬ ì‹¤í–‰</li>
  <li><strong>ì‹œì‘ ìœ ì˜ˆ</strong>: 5ì´ˆ ì´ˆê¸° ëŒ€ê¸° ì‹œê°„</li>
  <li><strong>ì¬ì‹œë„ ì •ì±…</strong>: 3íšŒ ì‹¤íŒ¨ ì‹œ ì»¨í…Œì´ë„ˆ ì¬ì‹œì‘</li>
</ul>

<h2 id="-í•µì‹¬-ì¸ì‚¬ì´íŠ¸">ğŸ” í•µì‹¬ ì¸ì‚¬ì´íŠ¸</h2>

<h3 id="1-ê³„ì¸µí™”ëœ-ì•„í‚¤í…ì²˜">1. ê³„ì¸µí™”ëœ ì•„í‚¤í…ì²˜</h3>
<ul>
  <li><strong>ë² ì´ìŠ¤ ìµœì í™”</strong>: PyTorch ê³µì‹ ì´ë¯¸ì§€ë¡œ ì•ˆì •ì„± í™•ë³´</li>
  <li><strong>ë ˆì´ì–´ ìºì‹±</strong>: ë³€ê²½ ë¹ˆë„ì— ë”°ë¥¸ ìµœì  ë ˆì´ì–´ ìˆœì„œ</li>
  <li><strong>í¬ê¸° ìµœì í™”</strong>: ë¶ˆí•„ìš”í•œ íŒŒì¼ê³¼ ìºì‹œ ì œê±°</li>
</ul>

<h3 id="2-ê°œë°œ-í”„ë¡œë•ì…˜-ê· í˜•">2. ê°œë°œ-í”„ë¡œë•ì…˜ ê· í˜•</h3>
<ul>
  <li><strong>ê°œë°œ í¸ì˜ì„±</strong>: ë³¼ë¥¨ ë§ˆìš´íŠ¸ë¡œ ì‹¤ì‹œê°„ ì½”ë“œ ë°˜ì˜</li>
  <li><strong>í”„ë¡œë•ì…˜ ì¤€ë¹„</strong>: í—¬ìŠ¤ ì²´í¬ì™€ ë¦¬ì†ŒìŠ¤ ì œí•œ</li>
  <li><strong>í™˜ê²½ ë¶„ë¦¬</strong>: Docker Composeë¡œ í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬</li>
</ul>

<h3 id="3-gpu-ìì›-íš¨ìœ¨ì„±">3. GPU ìì› íš¨ìœ¨ì„±</h3>
<ul>
  <li><strong>ì •í™•í•œ í• ë‹¹</strong>: í•„ìš”í•œ GPU ìˆ˜ë§Œ ì˜ˆì•½</li>
  <li><strong>ë©”ëª¨ë¦¬ ìµœì í™”</strong>: CUDA ë©”ëª¨ë¦¬ ì„¤ì •ìœ¼ë¡œ OOM ë°©ì§€</li>
  <li><strong>ë“œë¼ì´ë²„ í˜¸í™˜ì„±</strong>: NVIDIA ì»¨í…Œì´ë„ˆ ëŸ°íƒ€ì„ í™œìš©</li>
</ul>

<h3 id="4-ì˜ì¡´ì„±-ê´€ë¦¬-ì „ëµ">4. ì˜ì¡´ì„± ê´€ë¦¬ ì „ëµ</h3>
<ul>
  <li><strong>ë²„ì „ ê³ ì •</strong>: ì¬í˜„ ê°€ëŠ¥í•œ ë¹Œë“œ í™˜ê²½</li>
  <li><strong>ê°€ìƒí™˜ê²½</strong>: ì‹œìŠ¤í…œ íŒ¨í‚¤ì§€ì™€ ê²©ë¦¬</li>
  <li><strong>ì„ íƒì  ì„¤ì¹˜</strong>: ìš©ë„ë³„ ì¶”ê°€ ì˜ì¡´ì„± ê´€ë¦¬</li>
</ul>

<h3 id="5-ìš´ì˜-í¸ì˜ì„±">5. ìš´ì˜ í¸ì˜ì„±</h3>
<ul>
  <li><strong>í¬íŠ¸ í‘œì¤€í™”</strong>: ì¼ê´€ëœ í¬íŠ¸ ì‚¬ìš© (8000)</li>
  <li><strong>ë¡œê·¸ ê´€ë¦¬</strong>: ì ì ˆí•œ ë¡œê·¸ ë ˆë²¨ ì„¤ì •</li>
  <li><strong>ëª¨ë‹ˆí„°ë§</strong>: í—¬ìŠ¤ ì²´í¬ì™€ ë©”íŠ¸ë¦­ ìˆ˜ì§‘</li>
</ul>

<h2 id="-ê²°ë¡ ">ğŸ¯ ê²°ë¡ </h2>

<p>AudioCraft Custom í”„ë¡œì íŠ¸ì˜ Docker ì»¨í…Œì´ë„ˆí™”ëŠ” ë³µì¡í•œ AI ì›Œí¬ë¡œë“œë¥¼ ì•ˆì •ì ìœ¼ë¡œ ë°°í¬í•˜ëŠ” ëª¨ë²” ì‚¬ë¡€ë¥¼ ë³´ì—¬ì¤ë‹ˆë‹¤. PyTorchì™€ CUDAì˜ ë³µì¡ì„±ì„ Dockerë¡œ ì¶”ìƒí™”í•˜ì—¬ ê°œë°œìê°€ í•µì‹¬ ë¡œì§ì— ì§‘ì¤‘í•  ìˆ˜ ìˆê²Œ í•˜ë©´ì„œ, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œì˜ í™•ì¥ì„±ê³¼ ì•ˆì •ì„±ë„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.</p>

<p>íŠ¹íˆ GPU ë¦¬ì†ŒìŠ¤ ê´€ë¦¬ì™€ ì˜ì¡´ì„± ìµœì í™”ë¥¼ í†µí•´ AI ëª¨ë¸ ì„œë¹™ì— íŠ¹í™”ëœ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ êµ¬ì¶•í–ˆìœ¼ë©°, Docker Composeë¥¼ í†µí•œ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ìœ¼ë¡œ ê°œë°œë¶€í„° ë°°í¬ê¹Œì§€ì˜ ì „ì²´ ë¼ì´í”„ì‚¬ì´í´ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<hr />

<h2 id="-audiocraft-custom-í”„ë¡œì íŠ¸-ë¶„ì„-ì™„ë£Œ">ğŸ‰ AudioCraft Custom í”„ë¡œì íŠ¸ ë¶„ì„ ì™„ë£Œ</h2>

<p>ì´ë²ˆ ì‹œë¦¬ì¦ˆë¥¼ í†µí•´ AudioCraft Custom í”„ë¡œì íŠ¸ì˜ ì „ì²´ ì•„í‚¤í…ì²˜ë¥¼ ì‹¬ì¸µì ìœ¼ë¡œ ë¶„ì„í–ˆìŠµë‹ˆë‹¤:</p>

<ol>
  <li><strong><a href="2024-12-20-musicgen-implementation-deep-dive.md">MusicGen ëª¨ë¸ êµ¬í˜„ ì‹¬í™” ë¶„ì„</a></strong> - í…ìŠ¤íŠ¸-ìŒì•… ìƒì„±ì˜ í•µì‹¬ ë©”ì»¤ë‹ˆì¦˜</li>
  <li><strong><a href="2024-12-20-audiogen-encodec-deep-dive.md">AudioGen &amp; EnCodec ëª¨ë¸ ì‹¬í™” ë¶„ì„</a></strong> - íš¨ê³¼ìŒ ìƒì„±ê³¼ ì‹ ê²½ë§ ì••ì¶•</li>
  <li><strong><a href="2024-12-20-adversarial-networks-deep-dive.md">Adversarial Networks ì‹¬í™” ë¶„ì„</a></strong> - í’ˆì§ˆ í–¥ìƒì„ ìœ„í•œ íŒë³„ì ì‹œìŠ¤í…œ</li>
  <li><strong><a href="2024-12-20-fastapi-server-deep-dive.md">FastAPI ì„œë²„ êµ¬í˜„ ì‹¬í™” ë¶„ì„</a></strong> - AI ëª¨ë¸ì˜ ì›¹ ì„œë¹„ìŠ¤ í†µí•©</li>
  <li><strong><a href="2024-12-20-docker-containerization-deep-dive.md">Docker ì»¨í…Œì´ë„ˆí™” ì‹œìŠ¤í…œ ì‹¬í™” ë¶„ì„</a></strong> - ì „ì²´ ì‹œìŠ¤í…œì˜ ë°°í¬ í™˜ê²½</li>
</ol>

<p>AudioCraftëŠ” ë‹¨ìˆœí•œ ì˜¤ë””ì˜¤ ìƒì„± ë„êµ¬ë¥¼ ë„˜ì–´ì„œ, í˜„ëŒ€ì ì¸ AI ì‹œìŠ¤í…œ êµ¬ì¶•ì˜ ëª¨ë“  ì¸¡ë©´ì„ ë‹¤ë£¨ëŠ” ì¢…í•©ì ì¸ í”„ë¡œì íŠ¸ì„ì„ í™•ì¸í•  ìˆ˜ ìˆì—ˆìŠµë‹ˆë‹¤.</p>

<hr />

<p><em>ì´ ë¶„ì„ì€ AudioCraft Custom í”„ë¡œì íŠ¸ì˜ ì‹¤ì œ ì†ŒìŠ¤ ì½”ë“œë¥¼ ê¸°ë°˜ìœ¼ë¡œ ì‘ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ë” ìì„¸í•œ êµ¬í˜„ ë‚´ìš©ì€ <a href="https://github.com/facebookresearch/audiocraft">AudioCraft ê³µì‹ ì €ì¥ì†Œ</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</em></p>

  </div>

  <footer class="post-footer">
    <div class="post-navigation"><div class="nav-previous">
        <a href="/ai-blog/2024/12/20/audiogen-encodec-deep-dive/" rel="prev">
          <i class="icon-left-arrow"></i>
          <span class="nav-title">AudioGen & EnCodec ëª¨ë¸ ì‹¬í™” ë¶„ì„ - AudioCraft Custom...</span>
        </a>
      </div><div class="nav-next">
        <a href="/ai-blog/2024/12/20/fastapi-server-deep-dive/" rel="next">
          <span class="nav-title">FastAPI ì„œë²„ êµ¬í˜„ ì‹¬í™” ë¶„ì„ - AudioCraft Custom í”„ë¡œì íŠ¸</span>
          <i class="icon-right-arrow"></i>
        </a>
      </div></div>
  </footer>
  </article></div>

    </section>
    <footer class="condensed">
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </footer>
  </main>
  
  <script type="text/javascript" src="/ai-blog/assets/js/darkmode.js"></script>
  
  <script src="/ai-blog/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/ai-blog/assets/js/search.js"></script>
  
</body>

</html>
