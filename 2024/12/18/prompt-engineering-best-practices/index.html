<!DOCTYPE html>
<html lang="en">

<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

<!-- 기본 SEO 메타 태그 -->
<title>프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드 | AI Development Blog</title>
<meta name="description" content="개요효과적인 프롬프트 엔지니어링은 단순한 지시문 작성을 넘어서 체계적인 설계 원칙과 반복적 개선 과정을 필요로 합니다. 이번 포스트에서는 실전에서 바로 적용할 수 있는 프롬프트 엔지니어링 모범 사례들을 상세히 살펴보겠습니다.1. 명확하고 명시적인 지시 작성하기1.1 명확성 원칙gr...">
<meta name="author" content="David Lee">
<meta name="keywords" content="prompt-engineering, best-practices, optimization, prompt-design, iterative-improvement">

<!-- 정규 URL -->
<link rel="canonical" href="https://leeyonghe.github.io/ai-blog/2024/12/18/prompt-engineering-best-practices/">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="article">
<meta property="og:title" content="프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드">
<meta property="og:description" content="개요효과적인 프롬프트 엔지니어링은 단순한 지시문 작성을 넘어서 체계적인 설계 원칙과 반복적 개선 과정을 필요로 합니다. 이번 포스트에서는 실전에서 바로 적용할 수 있는 프롬프트 엔지니어링 모범 사례들을 상세히 살펴보겠습니다.1. 명확하고 명시적인 지시 작성하기1.1 명확성 원칙gr...">
<meta property="og:url" content="https://leeyonghe.github.io/ai-blog/2024/12/18/prompt-engineering-best-practices/">
<meta property="og:site_name" content="AI Development Blog">

<meta property="og:locale" content="ko_KR">

<!-- Twitter Card -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드">
<meta name="twitter:description" content="개요효과적인 프롬프트 엔지니어링은 단순한 지시문 작성을 넘어서 체계적인 설계 원칙과 반복적 개선 과정을 필요로 합니다. 이번 포스트에서는 실전에서 바로 적용할 수 있는 프롬프트 엔지니어링 모범 사례들을 상세히 살펴보겠습니다.1. 명확하고 명시적인 지시 작성하기1.1 명확성 원칙gr...">



<!-- 검색 엔진 인증 메타 태그 -->



<!-- 언어 및 지역 설정 -->
<meta name="language" content="ko">
<meta name="geo.region" content="KR">
<meta name="geo.country" content="KR">

<!-- 추가 SEO 메타 태그 -->
<meta name="robots" content="index, follow">
<meta name="revisit-after" content="7 days">
<meta name="rating" content="general">

<!-- RSS 피드 -->
<link rel="alternate" type="application/rss+xml" title="AI Development Blog" href="https://leeyonghe.github.io/ai-blog/feed.xml">

<!-- 구조화된 데이터 (JSON-LD) -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Blog",
  "name": "AI Development Blog",
  "description": "AI 개발 및 프레임워크 분석을 다루는 기술 블로그입니다. Rust, Python, AI/ML 프로젝트의 심층 분석과 실무 경험을 공유합니다.
",
  "url": "https://leeyonghe.github.io/ai-blog",
  "author": {
    "@type": "Person",
    "name": "David Lee",
    "email": "lee.yonghee.dev@gmail.com"
  },
  "inLanguage": "ko",
  "potentialAction": {
    "@type": "SearchAction",
    "target": "https://leeyonghe.github.io/ai-blog/search?q={search_term_string}",
    "query-input": "required name=search_term_string"
  }
}
</script>

<!-- 개별 포스트 구조화된 데이터 -->

<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드",
  "description": "개요

효과적인 프롬프트 엔지니어링은 단순한 지시문 작성을 넘어서 체계적인 설계 원칙과 반복적 개선 과정을 필요로 합니다. 이번 포스트에서는 실전에서 바로 적용할 수 있는 프롬프트 엔지니어링 모범 사례들을 상세히 살펴보겠습니다.

1. 명확하고 명시적인 지시 작성하기

1.1 명확...",
  "image": "",
  "author": {
    "@type": "Person",
    "name": "David Lee"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AI Development Blog",
    "logo": {
      "@type": "ImageObject",
      "url": ""
    }
  },
  "datePublished": "2024-12-18T07:45:00+00:00",
  "dateModified": "2024-12-18T07:45:00+00:00",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://leeyonghe.github.io/ai-blog/2024/12/18/prompt-engineering-best-practices/"
  },
  "url": "https://leeyonghe.github.io/ai-blog/2024/12/18/prompt-engineering-best-practices/",
  "inLanguage": "ko",
  "keywords": ["prompt-engineering","best-practices","optimization","prompt-design","iterative-improvement"],
  "articleSection": ["AI","Prompt Engineering","Best Practices"]
}
</script>

<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/ai-blog/assets/css/style.css">
<link rel="stylesheet" href="/ai-blog/assets/css/post-detail.css">
<style>
/* Post Detail Page Styling */
.post-container article {
  background: #fff;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  padding: 40px;
  margin: 30px auto;
  max-width: 800px;
}

@media screen and (max-width: 768px) {
  .post-container article {
    margin: 20px;
    padding: 25px;
    border-radius: 8px;
  }
}

.post-container article .post-header {
  border-bottom: 2px solid #f5f5f5;
  padding-bottom: 25px;
  margin-bottom: 30px;
}

.post-container article .post-header .post-title {
  font-size: 2.2em;
  font-weight: 700;
  color: #2c3e50;
  line-height: 1.3;
  margin-bottom: 15px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-header .post-title {
    font-size: 1.8em;
  }
}

.post-container article .post-header .post-meta {
  display: flex;
  align-items: center;
  gap: 20px;
  flex-wrap: wrap;
}

.post-container article .post-header .post-meta .post-date {
  display: flex;
  align-items: center;
  color: #666;
  font-size: 0.9em;
}

.post-container article .post-header .post-meta .post-date i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper {
  display: flex;
  align-items: center;
}

.post-container article .post-header .post-meta .post-categories-wrapper i {
  margin-right: 8px;
  color: #888;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories {
  display: flex;
  gap: 8px;
  list-style: none;
  margin: 0;
  padding: 0;
}

.post-container article .post-header .post-meta .post-categories-wrapper .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
  color: white;
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 0.8em;
  font-weight: 500;
  text-transform: capitalize;
}

.post-container article .post-content {
  font-size: 1.1em;
  line-height: 1.8;
  color: #333;
}

.post-container article .post-content p {
  margin-bottom: 1.2em;
}

.post-container article .post-content h1,
.post-container article .post-content h2,
.post-container article .post-content h3,
.post-container article .post-content h4,
.post-container article .post-content h5,
.post-container article .post-content h6 {
  color: #2c3e50;
  margin: 1.5em 0 0.8em 0;
  font-weight: 600;
}

.post-container article .post-content h2 {
  font-size: 1.8em;
  border-bottom: 2px solid #3498db;
  padding-bottom: 10px;
}

.post-container article .post-content h3 {
  font-size: 1.5em;
  color: #34495e;
}

.post-container article .post-content code {
  background: #f8f9fa;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.9em;
  color: #e74c3c;
}

.post-container article .post-content pre {
  background: #f8f9fa;
  border: 1px solid #e9ecef;
  border-radius: 6px;
  padding: 15px;
  overflow-x: auto;
  margin: 1.5em 0;
}

.post-container article .post-content pre code {
  background: none;
  color: #333;
  padding: 0;
}

.post-container article .post-content blockquote {
  border-left: 4px solid #3498db;
  background: #f8f9fa;
  padding: 15px 20px;
  margin: 1.5em 0;
  font-style: italic;
  color: #555;
}

.post-container article .post-content img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 1.5em 0;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
}

.post-container article .post-content ul,
.post-container article .post-content ol {
  padding-left: 1.5em;
  margin-bottom: 1.2em;
}

.post-container article .post-content ul li,
.post-container article .post-content ol li {
  margin-bottom: 0.5em;
}

.post-container article .post-content a {
  color: #3498db;
  text-decoration: none;
  border-bottom: 1px solid transparent;
  transition: all 0.3s ease;
}

.post-container article .post-content a:hover {
  border-bottom-color: #3498db;
}

.post-container article .post-footer {
  border-top: 2px solid #f5f5f5;
  padding-top: 25px;
  margin-top: 40px;
}

.post-container article .post-footer .post-navigation {
  display: flex;
  justify-content: space-between;
  align-items: center;
  gap: 20px;
}

@media screen and (max-width: 768px) {
  .post-container article .post-footer .post-navigation {
    flex-direction: column;
    gap: 15px;
  }
}

.post-container article .post-footer .post-navigation .nav-previous,
.post-container article .post-footer .post-navigation .nav-next {
  flex: 1;
}

.post-container article .post-footer .post-navigation .nav-previous a,
.post-container article .post-footer .post-navigation .nav-next a {
  display: flex;
  align-items: center;
  padding: 15px 20px;
  background: #f8f9fa;
  border-radius: 8px;
  text-decoration: none;
  color: #333;
  transition: all 0.3s ease;
  border: 2px solid transparent;
}

.post-container article .post-footer .post-navigation .nav-previous a:hover,
.post-container article .post-footer .post-navigation .nav-next a:hover {
  background: #e9ecef;
  border-color: #3498db;
  transform: translateY(-2px);
}

.post-container article .post-footer .post-navigation .nav-previous a i,
.post-container article .post-footer .post-navigation .nav-next a i {
  color: #3498db;
  margin: 0 8px;
}

.post-container article .post-footer .post-navigation .nav-previous a .nav-title,
.post-container article .post-footer .post-navigation .nav-next a .nav-title {
  font-weight: 500;
}

.post-container article .post-footer .post-navigation .nav-previous a {
  justify-content: flex-start;
}

.post-container article .post-footer .post-navigation .nav-next a {
  justify-content: flex-end;
  text-align: right;
}
</style>
<title>프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드</title>

<script type="text/javascript" src="/ai-blog/assets/js/darkmode.js"></script>


<!-- Mermaid Diagram Support -->
<script type="text/javascript" src="/ai-blog/assets/js/mermaid-init.js"></script>
<link rel="stylesheet" href="/ai-blog/assets/css/network-diagrams.css">
<style>
/* Mermaid diagram styling - Network optimized */
.mermaid {
  text-align: center;
  margin: 2em 0;
  padding: 1.5em;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  border: 2px solid #e2e8f0;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
  overflow-x: auto;
  position: relative;
}

.mermaid::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: 4px;
  background: linear-gradient(90deg, #3b82f6, #1d4ed8, #1e40af);
  border-radius: 12px 12px 0 0;
}

.mermaid svg {
  max-width: 100%;
  height: auto;
  filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.1));
}

/* Network diagram specific styling */
.mermaid .node rect,
.mermaid .node circle,
.mermaid .node ellipse,
.mermaid .node polygon {
  stroke-width: 2px;
  filter: drop-shadow(0 1px 3px rgba(0, 0, 0, 0.12));
}

.mermaid .edgePath path {
  stroke-width: 2px;
  filter: drop-shadow(0 1px 2px rgba(0, 0, 0, 0.1));
}

.mermaid .cluster rect {
  stroke-width: 2px;
  stroke-dasharray: 5,5;
  opacity: 0.9;
}

/* Enhanced error styling */
.mermaid-error {
  color: #dc2626;
  background: linear-gradient(135deg, #fef2f2 0%, #fee2e2 100%);
  border: 2px solid #fca5a5;
  border-radius: 12px;
  padding: 1.5em;
  text-align: center;
  font-style: italic;
  font-weight: 500;
  box-shadow: 0 4px 20px rgba(220, 38, 38, 0.1);
}

.mermaid-error::before {
  content: '⚠️ ';
  font-size: 1.2em;
  margin-right: 0.5em;
}

/* Loading animation */
.mermaid.loading {
  min-height: 200px;
  background: linear-gradient(
    90deg,
    #f1f5f9 25%,
    #e2e8f0 50%,
    #f1f5f9 75%
  );
  background-size: 200% 100%;
  animation: shimmer 2s infinite;
}

@keyframes shimmer {
  0% {
    background-position: -200% 0;
  }
  100% {
    background-position: 200% 0;
  }
}

/* Responsive Mermaid diagrams */
@media (max-width: 768px) {
  .mermaid {
    font-size: 0.85em;
    padding: 1em;
    margin: 1.5em 0;
    border-radius: 8px;
  }

  .mermaid svg {
    transform: scale(0.9);
    transform-origin: center;
  }
}

@media (max-width: 480px) {
  .mermaid {
    font-size: 0.75em;
    padding: 0.8em;
    margin: 1em 0;
  }

  .mermaid svg {
    transform: scale(0.8);
  }
}

/* Dark mode support */
@media (prefers-color-scheme: dark) {
  .mermaid {
    background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
    border-color: #475569;
    color: #f1f5f9;
  }

  .mermaid::before {
    background: linear-gradient(90deg, #60a5fa, #3b82f6, #2563eb);
  }

  .mermaid-error {
    background: linear-gradient(135deg, #451a03 0%, #7c2d12 100%);
    border-color: #dc2626;
    color: #fef2f2;
  }
}

/* Print styles */
@media print {
  .mermaid {
    background: white !important;
    border: 1px solid #ccc !important;
    box-shadow: none !important;
    break-inside: avoid;
  }

  .mermaid::before {
    display: none !important;
  }
}
</style>
</head><body>
  <main class="container">
    <section class="about">
      <div class="about-header condensed">
      <div class="about-title">
      <a href="/ai-blog/">
        
        <img src="/ai-blog/assets/portfolio.png" alt="David Lee" />
        
      </a>
      <h2 id="title">
        <a href="/ai-blog/">David Lee</a>
      </h2>
      </div><p class="tagline">Developer</p></div>
      
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </section>
    <section class="content">
      <style>
/* Post Detail Page Styling - Direct Inline */
.post-container article {
  background: #fff !important;
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  border-radius: 12px !important;
  box-shadow: none !important;
  padding: 40px !important;
  margin: 30px auto !important;
  max-width: 800px !important;
}

.post-container article .post-header .post-title {
  font-size: 2.2em !important;
  font-weight: 700 !important;
  color: #2c3e50 !important;
  line-height: 1.3 !important;
}

.post-container article .post-header {
  border-bottom: none !important;
  padding-bottom: 25px !important;
  margin-bottom: 30px !important;
}

.post-container article .post-content {
  font-size: 1.1em !important;
  line-height: 1.8 !important;
  color: #333 !important;
}

.post-container article .post-content h2 {
  font-size: 1.8em !important;
  border-bottom: none !important;
  padding-bottom: 10px !important;
  color: #2c3e50 !important;
}

.post-container article .post-header .post-meta .post-categories li {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  padding: 4px 12px !important;
  border-radius: 20px !important;
  font-size: 0.8em !important;
  list-style: none !important;
  display: inline-block !important;
  margin-right: 8px !important;
}

.post-container article .post-footer {
  border-top: none !important;
  padding-top: 25px !important;
  margin-top: 40px !important;
}

/* 모든 border와 box-shadow 강제 제거 */
.post-container article *,
.post-container article *::before,
.post-container article *::after {
  border: none !important;
  border-top: none !important;
  border-right: none !important;
  border-bottom: none !important;
  border-left: none !important;
  border-width: 0 !important;
  border-style: none !important;
  outline: none !important;
  box-shadow: none !important;
}

/* 코드 블록과 pre 태그도 border, box-shadow 제거 */
.post-container article pre,
.post-container article code,
.post-container article .highlight,
.post-container article .highlighter-rouge {
  border: none !important;
  outline: none !important;
  box-shadow: none !important;
}
</style><div class="post-container">
  <article>
    <header class="post-header">
    <h1 class="post-title">프롬프트 엔지니어링 실전 모범 사례 - 효과적인 프롬프트 설계와 최적화 완벽 가이드</h1>
    <div class="post-meta">
      <div class="post-date">
        <i class="icon-calendar"></i>
        <time datetime="2024-12-18T07:45:00+00:00">Dec 18, 2024</time>
      </div><div class="post-categories-wrapper">
        <i class="icon-tag"></i>
        <ul class="post-categories"><li>AI</li><li>Prompt Engineering</li><li>Best Practices</li></ul>
      </div></div>
  </header>

  <div class="post-content">
    <h2 id="개요">개요</h2>

<p>효과적인 <strong>프롬프트 엔지니어링</strong>은 단순한 지시문 작성을 넘어서 체계적인 설계 원칙과 반복적 개선 과정을 필요로 합니다. 이번 포스트에서는 실전에서 바로 적용할 수 있는 프롬프트 엔지니어링 모범 사례들을 상세히 살펴보겠습니다.</p>

<h2 id="1-명확하고-명시적인-지시-작성하기">1. 명확하고 명시적인 지시 작성하기</h2>

<h3 id="11-명확성-원칙">1.1 명확성 원칙</h3>

<pre><code class="language-mermaid">graph TD
    A[명확한 지시 작성] --&gt; B[구체적 동사 사용]
    A --&gt; C[모호함 제거]
    A --&gt; D[단계별 분해]
    A --&gt; E[예상 결과 명시]
    
    B --&gt; B1[분석하세요]
    B --&gt; B2[요약하세요]
    B --&gt; B3[비교하세요]
    B --&gt; B4[생성하세요]
    
    C --&gt; C1[정량적 기준]
    C --&gt; C2[명확한 범위]
    C --&gt; C3[구체적 형식]
    
    D --&gt; D1[1단계: 이해]
    D --&gt; D2[2단계: 분석]
    D --&gt; D3[3단계: 결론]
    
    E --&gt; E1[출력 형태]
    E --&gt; E2[품질 기준]
    E --&gt; E3[성공 지표]
</code></pre>

<h3 id="12-명확성-향상-기법">1.2 명확성 향상 기법</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ClarityEnhancer</span><span class="p">:</span>
    <span class="s">"""명확성 향상 도구"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">clarity_patterns</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"vague_verbs"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"해주세요"</span><span class="p">:</span> <span class="s">"구체적으로 분석해주세요"</span><span class="p">,</span>
                <span class="s">"알려주세요"</span><span class="p">:</span> <span class="s">"다음 형식으로 설명해주세요"</span><span class="p">,</span>
                <span class="s">"만들어주세요"</span><span class="p">:</span> <span class="s">"명시된 기준에 따라 생성해주세요"</span>
            <span class="p">},</span>
            <span class="s">"ambiguous_terms"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"좋은"</span><span class="p">:</span> <span class="s">"정확하고 유용한"</span><span class="p">,</span>
                <span class="s">"적절한"</span><span class="p">:</span> <span class="s">"다음 기준에 맞는"</span><span class="p">,</span>
                <span class="s">"간단한"</span><span class="p">:</span> <span class="s">"3문장 이하의"</span><span class="p">,</span>
                <span class="s">"자세한"</span><span class="p">:</span> <span class="s">"각 항목별로 구체적인"</span>
            <span class="p">},</span>
            <span class="s">"quantitative_specifiers"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"몇 개"</span><span class="p">:</span> <span class="s">"정확히 5개"</span><span class="p">,</span>
                <span class="s">"약간"</span><span class="p">:</span> <span class="s">"20% 정도"</span><span class="p">,</span>
                <span class="s">"많이"</span><span class="p">:</span> <span class="s">"10개 이상"</span><span class="p">,</span>
                <span class="s">"조금"</span><span class="p">:</span> <span class="s">"3개 이하"</span>
            <span class="p">}</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">enhance_clarity</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt</span><span class="p">):</span>
        <span class="s">"""프롬프트 명확성 향상"""</span>
        <span class="n">enhanced_prompt</span> <span class="o">=</span> <span class="n">prompt</span>
        <span class="n">improvements</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># 모호한 동사 개선
</span>        <span class="k">for</span> <span class="n">vague</span><span class="p">,</span> <span class="n">specific</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">clarity_patterns</span><span class="p">[</span><span class="s">"vague_verbs"</span><span class="p">].</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">vague</span> <span class="ow">in</span> <span class="n">enhanced_prompt</span><span class="p">:</span>
                <span class="n">enhanced_prompt</span> <span class="o">=</span> <span class="n">enhanced_prompt</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">vague</span><span class="p">,</span> <span class="n">specific</span><span class="p">)</span>
                <span class="n">improvements</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">"동사 명확화: '</span><span class="si">{</span><span class="n">vague</span><span class="si">}</span><span class="s">' → '</span><span class="si">{</span><span class="n">specific</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        
        <span class="c1"># 모호한 용어 구체화
</span>        <span class="k">for</span> <span class="n">ambiguous</span><span class="p">,</span> <span class="n">specific</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">clarity_patterns</span><span class="p">[</span><span class="s">"ambiguous_terms"</span><span class="p">].</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">ambiguous</span> <span class="ow">in</span> <span class="n">enhanced_prompt</span><span class="p">:</span>
                <span class="n">enhanced_prompt</span> <span class="o">=</span> <span class="n">enhanced_prompt</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">ambiguous</span><span class="p">,</span> <span class="n">specific</span><span class="p">)</span>
                <span class="n">improvements</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">"용어 구체화: '</span><span class="si">{</span><span class="n">ambiguous</span><span class="si">}</span><span class="s">' → '</span><span class="si">{</span><span class="n">specific</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        
        <span class="c1"># 정량적 표현 추가
</span>        <span class="n">enhanced_prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_add_quantitative_specifications</span><span class="p">(</span><span class="n">enhanced_prompt</span><span class="p">)</span>
        
        <span class="c1"># 출력 형식 명시
</span>        <span class="k">if</span> <span class="s">"형식"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enhanced_prompt</span> <span class="ow">and</span> <span class="s">"포맷"</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">enhanced_prompt</span><span class="p">:</span>
            <span class="n">format_specification</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_format_specification</span><span class="p">(</span><span class="n">enhanced_prompt</span><span class="p">)</span>
            <span class="n">enhanced_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">"</span><span class="se">\n\n</span><span class="si">{</span><span class="n">format_specification</span><span class="si">}</span><span class="s">"</span>
            <span class="n">improvements</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="s">"출력 형식 명시 추가"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"enhanced_prompt"</span><span class="p">:</span> <span class="n">enhanced_prompt</span><span class="p">,</span>
            <span class="s">"improvements"</span><span class="p">:</span> <span class="n">improvements</span><span class="p">,</span>
            <span class="s">"clarity_score"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_clarity_score</span><span class="p">(</span><span class="n">enhanced_prompt</span><span class="p">)</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">_add_quantitative_specifications</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt</span><span class="p">):</span>
        <span class="s">"""정량적 명세 추가"""</span>
        <span class="n">specifications</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"목록"</span><span class="p">:</span> <span class="s">"정확히 5개 항목의 목록"</span><span class="p">,</span>
            <span class="s">"예시"</span><span class="p">:</span> <span class="s">"구체적인 3개의 예시"</span><span class="p">,</span>
            <span class="s">"단계"</span><span class="p">:</span> <span class="s">"명확한 순서의 단계별 과정"</span><span class="p">,</span>
            <span class="s">"비교"</span><span class="p">:</span> <span class="s">"최소 3가지 기준에 따른 체계적 비교"</span>
        <span class="p">}</span>
        
        <span class="n">enhanced</span> <span class="o">=</span> <span class="n">prompt</span>
        <span class="k">for</span> <span class="n">general</span><span class="p">,</span> <span class="n">specific</span> <span class="ow">in</span> <span class="n">specifications</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">general</span> <span class="ow">in</span> <span class="n">prompt</span> <span class="ow">and</span> <span class="n">specific</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">prompt</span><span class="p">:</span>
                <span class="n">enhanced</span> <span class="o">=</span> <span class="n">enhanced</span><span class="p">.</span><span class="n">replace</span><span class="p">(</span><span class="n">general</span><span class="p">,</span> <span class="n">specific</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">enhanced</span>
    
    <span class="k">def</span> <span class="nf">create_instruction_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">task_type</span><span class="p">):</span>
        <span class="s">"""작업 유형별 지시 템플릿"""</span>
        <span class="n">templates</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"analysis"</span><span class="p">:</span> <span class="s">"""
다음 데이터를 체계적으로 분석해주세요:

분석 대상: {input_data}

분석 요구사항:
1. 핵심 패턴과 트렌드 식별
2. 정량적 지표 계산 (평균, 증감률, 분포 등)
3. 주목할 만한 이상치나 특이사항 발견
4. 비즈니스 임팩트 관점에서의 해석

출력 형식:
- 요약 (2-3문장)
- 주요 발견사항 (번호 매긴 목록)
- 정량적 지표 (표 형태)
- 권장사항 (실행 가능한 3가지)

제약 조건:
- 객관적 사실에 기반한 분석
- 불확실한 부분은 명시적으로 표현
- 전문 용어 사용 시 간단한 설명 포함
"""</span><span class="p">,</span>
            
            <span class="s">"creation"</span><span class="p">:</span> <span class="s">"""
다음 요구사항에 맞는 {output_type}을 생성해주세요:

생성 조건:
- 목적: {purpose}
- 대상 청중: {audience}
- 톤앤매너: {tone}
- 길이: {length}

필수 포함 요소:
{required_elements}

품질 기준:
- 창의성과 독창성
- 논리적 구조와 흐름
- 대상 청중에 적합한 언어 수준
- 목적 달성을 위한 설득력

출력 형식:
{output_format}
"""</span><span class="p">,</span>
            
            <span class="s">"comparison"</span><span class="p">:</span> <span class="s">"""
다음 대상들을 체계적으로 비교 분석해주세요:

비교 대상: {comparison_items}

비교 기준:
{comparison_criteria}

분석 방법:
1. 각 기준별 정량적/정성적 평가
2. 상대적 장단점 분석
3. 사용 상황별 적합성 평가
4. 종합적 순위 및 추천

출력 형식:
- 비교 표 (기준별 점수)
- 기준별 상세 분석
- 상황별 추천 매트릭스
- 최종 결론 및 권고사항
"""</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">templates</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">task_type</span><span class="p">,</span> <span class="n">templates</span><span class="p">[</span><span class="s">"analysis"</span><span class="p">])</span>

<span class="k">class</span> <span class="nc">ContextProvider</span><span class="p">:</span>
    <span class="s">"""컨텍스트 제공 최적화기"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">context_categories</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"background"</span><span class="p">:</span> <span class="s">"배경 정보"</span><span class="p">,</span>
            <span class="s">"constraints"</span><span class="p">:</span> <span class="s">"제약 조건"</span><span class="p">,</span>
            <span class="s">"goals"</span><span class="p">:</span> <span class="s">"목표와 기대 결과"</span><span class="p">,</span>
            <span class="s">"audience"</span><span class="p">:</span> <span class="s">"대상 청중"</span><span class="p">,</span>
            <span class="s">"format"</span><span class="p">:</span> <span class="s">"출력 형식"</span><span class="p">,</span>
            <span class="s">"examples"</span><span class="p">:</span> <span class="s">"참고 예시"</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">build_comprehensive_context</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">,</span> <span class="n">context_data</span><span class="p">):</span>
        <span class="s">"""종합적 컨텍스트 구성"""</span>
        <span class="n">context_sections</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># 배경 정보 추가
</span>        <span class="k">if</span> <span class="s">"background"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">background_section</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""
배경 정보:
</span><span class="si">{</span><span class="n">context_data</span><span class="p">[</span><span class="s">'background'</span><span class="p">]</span><span class="si">}</span><span class="s">
이 배경을 고려하여 다음 작업을 수행해주세요.
"""</span>
            <span class="n">context_sections</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">background_section</span><span class="p">)</span>
        
        <span class="c1"># 목표 명시
</span>        <span class="k">if</span> <span class="s">"goals"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">goals_section</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""
달성 목표:
</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_format_goals</span><span class="p">(</span><span class="n">context_data</span><span class="p">[</span><span class="s">'goals'</span><span class="p">])</span><span class="si">}</span><span class="s">
"""</span>
            <span class="n">context_sections</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">goals_section</span><span class="p">)</span>
        
        <span class="c1"># 제약 조건
</span>        <span class="k">if</span> <span class="s">"constraints"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">constraints_section</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""
제약 조건:
</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_format_constraints</span><span class="p">(</span><span class="n">context_data</span><span class="p">[</span><span class="s">'constraints'</span><span class="p">])</span><span class="si">}</span><span class="s">
"""</span>
            <span class="n">context_sections</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">constraints_section</span><span class="p">)</span>
        
        <span class="c1"># 대상 청중 고려사항
</span>        <span class="k">if</span> <span class="s">"audience"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">audience_section</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""
대상 청중: </span><span class="si">{</span><span class="n">context_data</span><span class="p">[</span><span class="s">'audience'</span><span class="p">]</span><span class="si">}</span><span class="s">
이 청중에게 적합한 언어 수준과 설명 방식을 사용해주세요.
"""</span>
            <span class="n">context_sections</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">audience_section</span><span class="p">)</span>
        
        <span class="c1"># 전체 프롬프트 구성
</span>        <span class="n">full_context</span> <span class="o">=</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="n">context_sections</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="sa">f</span><span class="s">"""
</span><span class="si">{</span><span class="n">full_context</span><span class="si">}</span><span class="s">

주요 작업:
</span><span class="si">{</span><span class="n">base_prompt</span><span class="si">}</span><span class="s">

</span><span class="si">{</span><span class="bp">self</span><span class="p">.</span><span class="n">_add_output_specifications</span><span class="p">(</span><span class="n">context_data</span><span class="p">)</span><span class="si">}</span><span class="s">
"""</span>
    
    <span class="k">def</span> <span class="nf">_format_goals</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">goals</span><span class="p">):</span>
        <span class="s">"""목표 형식화"""</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">goals</span><span class="p">,</span> <span class="nb">list</span><span class="p">):</span>
            <span class="k">return</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">.</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s">"- </span><span class="si">{</span><span class="n">goal</span><span class="si">}</span><span class="s">"</span> <span class="k">for</span> <span class="n">goal</span> <span class="ow">in</span> <span class="n">goals</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">goals</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_add_output_specifications</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">context_data</span><span class="p">):</span>
        <span class="s">"""출력 명세 추가"""</span>
        <span class="n">specifications</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">if</span> <span class="s">"format"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">specifications</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">"출력 형식: </span><span class="si">{</span><span class="n">context_data</span><span class="p">[</span><span class="s">'format'</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="s">"length"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">specifications</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">"길이 요구사항: </span><span class="si">{</span><span class="n">context_data</span><span class="p">[</span><span class="s">'length'</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="s">"style"</span> <span class="ow">in</span> <span class="n">context_data</span><span class="p">:</span>
            <span class="n">specifications</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s">"작성 스타일: </span><span class="si">{</span><span class="n">context_data</span><span class="p">[</span><span class="s">'style'</span><span class="p">]</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">specifications</span><span class="p">:</span>
            <span class="k">return</span> <span class="sa">f</span><span class="s">"""
출력 요구사항:
</span><span class="si">{</span><span class="nb">chr</span><span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="n">join</span><span class="p">(</span><span class="sa">f</span><span class="s">"- </span><span class="si">{</span><span class="n">spec</span><span class="si">}</span><span class="s">" for spec in specifications)</span><span class="si">}</span><span class="s">
"""</span>
        <span class="k">return</span> <span class="s">""</span>

<span class="k">class</span> <span class="nc">TaskDecomposer</span><span class="p">:</span>
    <span class="s">"""복잡한 작업 분해기"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">decomposition_strategies</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"sequential"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_sequential_decomposition</span><span class="p">,</span>
            <span class="s">"hierarchical"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_hierarchical_decomposition</span><span class="p">,</span>
            <span class="s">"parallel"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_parallel_decomposition</span><span class="p">,</span>
            <span class="s">"iterative"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_iterative_decomposition</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">decompose_complex_task</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complex_prompt</span><span class="p">,</span> <span class="n">strategy</span><span class="o">=</span><span class="s">"sequential"</span><span class="p">):</span>
        <span class="s">"""복잡한 작업 분해"""</span>
        <span class="n">decomposer</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">decomposition_strategies</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">strategy</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">decomposer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">"Unknown decomposition strategy: </span><span class="si">{</span><span class="n">strategy</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">decomposer</span><span class="p">(</span><span class="n">complex_prompt</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_sequential_decomposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complex_prompt</span><span class="p">):</span>
        <span class="s">"""순차적 분해"""</span>
        <span class="c1"># 작업의 자연스러운 순서 파악
</span>        <span class="n">task_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_analyze_task_components</span><span class="p">(</span><span class="n">complex_prompt</span><span class="p">)</span>
        
        <span class="n">sequential_steps</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span>
                <span class="s">"step"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s">"title"</span><span class="p">:</span> <span class="s">"정보 수집 및 이해"</span><span class="p">,</span>
                <span class="s">"instruction"</span><span class="p">:</span> <span class="s">"주어진 정보를 정리하고 핵심 요소를 파악하세요."</span><span class="p">,</span>
                <span class="s">"output"</span><span class="p">:</span> <span class="s">"구조화된 정보 요약"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">"step"</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
                <span class="s">"title"</span><span class="p">:</span> <span class="s">"분석 및 처리"</span><span class="p">,</span>
                <span class="s">"instruction"</span><span class="p">:</span> <span class="s">"1단계에서 정리한 정보를 바탕으로 요구된 분석을 수행하세요."</span><span class="p">,</span>
                <span class="s">"output"</span><span class="p">:</span> <span class="s">"분석 결과 및 인사이트"</span>
            <span class="p">},</span>
            <span class="p">{</span>
                <span class="s">"step"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
                <span class="s">"title"</span><span class="p">:</span> <span class="s">"결론 도출 및 제안"</span><span class="p">,</span>
                <span class="s">"instruction"</span><span class="p">:</span> <span class="s">"분석 결과를 바탕으로 결론을 도출하고 실행 가능한 제안을 만드세요."</span><span class="p">,</span>
                <span class="s">"output"</span><span class="p">:</span> <span class="s">"최종 결론 및 권장사항"</span>
            <span class="p">}</span>
        <span class="p">]</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"strategy"</span><span class="p">:</span> <span class="s">"sequential"</span><span class="p">,</span>
            <span class="s">"total_steps"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">sequential_steps</span><span class="p">),</span>
            <span class="s">"steps"</span><span class="p">:</span> <span class="n">sequential_steps</span><span class="p">,</span>
            <span class="s">"execution_prompt"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_create_execution_prompt</span><span class="p">(</span><span class="n">sequential_steps</span><span class="p">)</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">_hierarchical_decomposition</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complex_prompt</span><span class="p">):</span>
        <span class="s">"""계층적 분해"""</span>
        <span class="n">hierarchy</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"main_task"</span><span class="p">:</span> <span class="n">complex_prompt</span><span class="p">,</span>
            <span class="s">"sub_tasks"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span>
                    <span class="s">"level"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s">"task"</span><span class="p">:</span> <span class="s">"고수준 개요 작성"</span><span class="p">,</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"전체 작업의 구조와 접근 방법 계획"</span><span class="p">,</span>
                    <span class="s">"sub_sub_tasks"</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s">"요구사항 명확화"</span><span class="p">,</span>
                        <span class="s">"작업 범위 정의"</span><span class="p">,</span>
                        <span class="s">"성공 기준 설정"</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s">"level"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s">"task"</span><span class="p">:</span> <span class="s">"세부 분석 수행"</span><span class="p">,</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"각 구성 요소에 대한 상세 분석"</span><span class="p">,</span>
                    <span class="s">"sub_sub_tasks"</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s">"데이터 수집 및 정리"</span><span class="p">,</span>
                        <span class="s">"패턴 및 트렌드 분석"</span><span class="p">,</span>
                        <span class="s">"예외 사항 및 특이점 식별"</span>
                    <span class="p">]</span>
                <span class="p">},</span>
                <span class="p">{</span>
                    <span class="s">"level"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s">"task"</span><span class="p">:</span> <span class="s">"통합 및 결론"</span><span class="p">,</span>
                    <span class="s">"description"</span><span class="p">:</span> <span class="s">"분석 결과를 통합하여 최종 결론 도출"</span><span class="p">,</span>
                    <span class="s">"sub_sub_tasks"</span><span class="p">:</span> <span class="p">[</span>
                        <span class="s">"결과 종합"</span><span class="p">,</span>
                        <span class="s">"인사이트 도출"</span><span class="p">,</span>
                        <span class="s">"실행 계획 수립"</span>
                    <span class="p">]</span>
                <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">hierarchy</span>
    
    <span class="k">def</span> <span class="nf">create_step_by_step_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">original_task</span><span class="p">):</span>
        <span class="s">"""단계별 프롬프트 생성"""</span>
        <span class="n">decomposed</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">decompose_complex_task</span><span class="p">(</span><span class="n">original_task</span><span class="p">,</span> <span class="s">"sequential"</span><span class="p">)</span>
        
        <span class="n">step_prompts</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">step</span> <span class="ow">in</span> <span class="n">decomposed</span><span class="p">[</span><span class="s">"steps"</span><span class="p">]:</span>
            <span class="n">step_prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"""
=== 단계 </span><span class="si">{</span><span class="n">step</span><span class="p">[</span><span class="s">'step'</span><span class="p">]</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">step</span><span class="p">[</span><span class="s">'title'</span><span class="p">]</span><span class="si">}</span><span class="s"> ===

이전 단계 결과를 바탕으로 다음 작업을 수행하세요:

</span><span class="si">{</span><span class="n">step</span><span class="p">[</span><span class="s">'instruction'</span><span class="p">]</span><span class="si">}</span><span class="s">

기대 출력: </span><span class="si">{</span><span class="n">step</span><span class="p">[</span><span class="s">'output'</span><span class="p">]</span><span class="si">}</span><span class="s">

출력 형식:
- 명확하고 구조화된 형태
- 다음 단계에서 활용 가능한 정보 포함
- 현재 단계의 핵심 성과 요약
"""</span>
            <span class="n">step_prompts</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">step_prompt</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">step_prompts</span>
</code></pre></div></div>

<h2 id="2-모델에게-생각할-시간-주기">2. 모델에게 생각할 시간 주기</h2>

<h3 id="21-사고-시간-확보-기법">2.1 사고 시간 확보 기법</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">ThinkingTimeProvider</span><span class="p">:</span>
    <span class="s">"""사고 시간 제공기"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">thinking_techniques</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"chain_of_thought"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_chain_of_thought_prompt</span><span class="p">,</span>
            <span class="s">"step_by_step"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_step_by_step_prompt</span><span class="p">,</span>
            <span class="s">"reflection"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_reflection_prompt</span><span class="p">,</span>
            <span class="s">"verification"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_verification_prompt</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">add_thinking_time</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">,</span> <span class="n">technique</span><span class="o">=</span><span class="s">"chain_of_thought"</span><span class="p">):</span>
        <span class="s">"""사고 시간 추가"""</span>
        <span class="n">thinking_enhancer</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">thinking_techniques</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="n">technique</span><span class="p">)</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">thinking_enhancer</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">"Unknown thinking technique: </span><span class="si">{</span><span class="n">technique</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">thinking_enhancer</span><span class="p">(</span><span class="n">base_prompt</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_chain_of_thought_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">):</span>
        <span class="s">"""사고 연쇄 프롬프트"""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"""
</span><span class="si">{</span><span class="n">base_prompt</span><span class="si">}</span><span class="s">

다음과 같이 단계별로 생각해보세요:

1. 문제 이해: 주어진 문제나 작업을 명확히 이해하고 핵심 요소를 파악하세요.

2. 접근 방법: 이 문제를 해결하기 위한 최적의 접근 방법을 선택하세요.

3. 단계별 분석: 각 단계별로 차근차근 분석을 진행하세요.

4. 중간 검증: 각 단계의 결과가 논리적으로 타당한지 검증하세요.

5. 최종 결론: 모든 분석을 종합하여 최종 답안을 도출하세요.

사고 과정을 모두 보여주신 후 최종 답안을 제시해주세요.
"""</span>
    
    <span class="k">def</span> <span class="nf">_step_by_step_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">):</span>
        <span class="s">"""단계별 사고 프롬프트"""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"""
</span><span class="si">{</span><span class="n">base_prompt</span><span class="si">}</span><span class="s">

이 문제를 단계별로 해결해보겠습니다:

단계 1: 주어진 정보 정리
- 

단계 2: 핵심 문제 식별
- 

단계 3: 해결 방법 탐색
- 

단계 4: 솔루션 구현
- 

단계 5: 결과 검증
- 

각 단계를 완료한 후 다음 단계로 진행해주세요.
"""</span>
    
    <span class="k">def</span> <span class="nf">_reflection_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">base_prompt</span><span class="p">):</span>
        <span class="s">"""성찰적 사고 프롬프트"""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"""
</span><span class="si">{</span><span class="n">base_prompt</span><span class="si">}</span><span class="s">

이 문제에 대해 깊이 생각해보겠습니다:

첫 번째 접근:
[문제에 대한 첫 번째 해결 시도]

성찰과 재검토:
- 이 접근법의 장점은 무엇인가?
- 놓친 부분이나 개선할 점은 없는가?
- 다른 관점에서 본다면 어떨까?

개선된 접근:
[성찰을 바탕으로 한 개선된 해결책]

최종 답안:
[가장 적절하다고 판단되는 최종 결론]
"""</span>
    
    <span class="k">def</span> <span class="nf">create_deliberative_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">complex_problem</span><span class="p">):</span>
        <span class="s">"""숙고적 프롬프트 생성"""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="s">"""
다음 복잡한 문제에 대해 신중하게 생각해보겠습니다:

</span><span class="si">{</span><span class="n">complex_problem</span><span class="si">}</span><span class="s">

=== 숙고 과정 ===

1. 문제의 복잡성 파악:
   - 이 문제의 핵심은 무엇인가?
   - 어떤 요소들이 복잡성을 만들고 있는가?
   - 어떤 가정들이 필요한가?

2. 다양한 관점 고려:
   - 관점 A: [첫 번째 관점에서의 접근]
   - 관점 B: [두 번째 관점에서의 접근]  
   - 관점 C: [세 번째 관점에서의 접근]

3. 각 관점의 장단점 평가:
   - 관점 A의 강점/약점:
   - 관점 B의 강점/약점:
   - 관점 C의 강점/약점:

4. 통합적 해결책 모색:
   - 각 관점의 장점을 어떻게 결합할 수 있는가?
   - 약점들을 어떻게 보완할 수 있는가?

5. 최종 판단:
   - 가장 적절한 해결책은 무엇인가?
   - 이 결론의 근거는 무엇인가?
   - 잠재적 한계나 위험은 무엇인가?

신중한 숙고를 통해 도달한 최종 답안을 제시해주세요.
"""</span>

<span class="k">class</span> <span class="nc">IterativeImprovement</span><span class="p">:</span>
    <span class="s">"""반복적 개선 시스템"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">improvement_history</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">evaluation_criteria</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"accuracy"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
            <span class="s">"completeness"</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
            <span class="s">"clarity"</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
            <span class="s">"usefulness"</span><span class="p">:</span> <span class="mf">0.2</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">iterative_prompt_refinement</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">initial_prompt</span><span class="p">,</span> <span class="n">target_task</span><span class="p">,</span> <span class="n">max_iterations</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
        <span class="s">"""반복적 프롬프트 개선"""</span>
        <span class="n">current_prompt</span> <span class="o">=</span> <span class="n">initial_prompt</span>
        <span class="n">iteration_results</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">iteration</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">max_iterations</span><span class="p">):</span>
            <span class="c1"># 현재 프롬프트로 실행
</span>            <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">current_prompt</span><span class="p">)</span>
            
            <span class="c1"># 응답 평가
</span>            <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_response</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">target_task</span><span class="p">)</span>
            
            <span class="c1"># 개선점 식별
</span>            <span class="n">improvement_suggestions</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_identify_improvements</span><span class="p">(</span>
                <span class="n">current_prompt</span><span class="p">,</span> 
                <span class="n">response</span><span class="p">,</span> 
                <span class="n">evaluation</span>
            <span class="p">)</span>
            
            <span class="c1"># 결과 저장
</span>            <span class="n">iteration_result</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">"iteration"</span><span class="p">:</span> <span class="n">iteration</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="s">"prompt"</span><span class="p">:</span> <span class="n">current_prompt</span><span class="p">,</span>
                <span class="s">"response"</span><span class="p">:</span> <span class="n">response</span><span class="p">,</span>
                <span class="s">"evaluation"</span><span class="p">:</span> <span class="n">evaluation</span><span class="p">,</span>
                <span class="s">"improvements"</span><span class="p">:</span> <span class="n">improvement_suggestions</span>
            <span class="p">}</span>
            <span class="n">iteration_results</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">iteration_result</span><span class="p">)</span>
            
            <span class="c1"># 만족스러운 결과인 경우 종료
</span>            <span class="n">overall_score</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span>
                <span class="n">evaluation</span><span class="p">[</span><span class="n">criterion</span><span class="p">]</span> <span class="o">*</span> <span class="n">weight</span> 
                <span class="k">for</span> <span class="n">criterion</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">evaluation_criteria</span><span class="p">.</span><span class="n">items</span><span class="p">()</span>
            <span class="p">)</span>
            
            <span class="k">if</span> <span class="n">overall_score</span> <span class="o">&gt;=</span> <span class="mf">0.85</span><span class="p">:</span>  <span class="c1"># 85% 이상 점수
</span>                <span class="k">break</span>
            
            <span class="c1"># 프롬프트 개선
</span>            <span class="n">current_prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_improve_prompt</span><span class="p">(</span><span class="n">current_prompt</span><span class="p">,</span> <span class="n">improvement_suggestions</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"final_prompt"</span><span class="p">:</span> <span class="n">current_prompt</span><span class="p">,</span>
            <span class="s">"final_response"</span><span class="p">:</span> <span class="n">iteration_results</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="s">"response"</span><span class="p">],</span>
            <span class="s">"improvement_journey"</span><span class="p">:</span> <span class="n">iteration_results</span><span class="p">,</span>
            <span class="s">"total_iterations"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">iteration_results</span><span class="p">)</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">_evaluate_response</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">target_task</span><span class="p">):</span>
        <span class="s">"""응답 평가"""</span>
        <span class="n">evaluation</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="c1"># 정확성 평가
</span>        <span class="n">evaluation</span><span class="p">[</span><span class="s">"accuracy"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_accuracy</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">target_task</span><span class="p">)</span>
        
        <span class="c1"># 완전성 평가
</span>        <span class="n">evaluation</span><span class="p">[</span><span class="s">"completeness"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_completeness</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">target_task</span><span class="p">)</span>
        
        <span class="c1"># 명확성 평가
</span>        <span class="n">evaluation</span><span class="p">[</span><span class="s">"clarity"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_clarity</span><span class="p">(</span><span class="n">response</span><span class="p">)</span>
        
        <span class="c1"># 유용성 평가
</span>        <span class="n">evaluation</span><span class="p">[</span><span class="s">"usefulness"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_usefulness</span><span class="p">(</span><span class="n">response</span><span class="p">,</span> <span class="n">target_task</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">evaluation</span>
    
    <span class="k">def</span> <span class="nf">_identify_improvements</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">response</span><span class="p">,</span> <span class="n">evaluation</span><span class="p">):</span>
        <span class="s">"""개선점 식별"""</span>
        <span class="n">improvements</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># 낮은 점수 영역별 개선 제안
</span>        <span class="k">for</span> <span class="n">criterion</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">evaluation</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">score</span> <span class="o">&lt;</span> <span class="mf">0.7</span><span class="p">:</span>  <span class="c1"># 70% 미만인 경우 개선 필요
</span>                <span class="n">improvement</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_improvement_suggestion</span><span class="p">(</span><span class="n">criterion</span><span class="p">,</span> <span class="n">prompt</span><span class="p">,</span> <span class="n">response</span><span class="p">)</span>
                <span class="n">improvements</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">improvement</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">improvements</span>
    
    <span class="k">def</span> <span class="nf">_improve_prompt</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_prompt</span><span class="p">,</span> <span class="n">improvement_suggestions</span><span class="p">):</span>
        <span class="s">"""프롬프트 개선"""</span>
        <span class="n">improved_prompt</span> <span class="o">=</span> <span class="n">current_prompt</span>
        
        <span class="k">for</span> <span class="n">suggestion</span> <span class="ow">in</span> <span class="n">improvement_suggestions</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"add_constraint"</span><span class="p">:</span>
                <span class="n">improved_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">"</span><span class="se">\n\n</span><span class="s">추가 제약 조건: </span><span class="si">{</span><span class="n">suggestion</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span><span class="si">}</span><span class="s">"</span>
            
            <span class="k">elif</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"clarify_instruction"</span><span class="p">:</span>
                <span class="c1"># 기존 지시를 더 명확하게 수정
</span>                <span class="n">improved_prompt</span> <span class="o">=</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"content"</span><span class="p">](</span><span class="n">improved_prompt</span><span class="p">)</span>
            
            <span class="k">elif</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"add_example"</span><span class="p">:</span>
                <span class="n">improved_prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s">"</span><span class="se">\n\n</span><span class="s">참고 예시:</span><span class="se">\n</span><span class="si">{</span><span class="n">suggestion</span><span class="p">[</span><span class="s">'content'</span><span class="p">]</span><span class="si">}</span><span class="s">"</span>
            
            <span class="k">elif</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"type"</span><span class="p">]</span> <span class="o">==</span> <span class="s">"restructure"</span><span class="p">:</span>
                <span class="n">improved_prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_restructure_prompt</span><span class="p">(</span><span class="n">improved_prompt</span><span class="p">,</span> <span class="n">suggestion</span><span class="p">[</span><span class="s">"content"</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="n">improved_prompt</span>

<span class="k">class</span> <span class="nc">PromptVersionControl</span><span class="p">:</span>
    <span class="s">"""프롬프트 버전 관리 시스템"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">versions</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">branching_history</span> <span class="o">=</span> <span class="p">{}</span>
    
    <span class="k">def</span> <span class="nf">create_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_id</span><span class="p">,</span> <span class="n">prompt_content</span><span class="p">,</span> <span class="n">metadata</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">"""새 프롬프트 버전 생성"""</span>
        <span class="k">if</span> <span class="n">prompt_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">versions</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">versions</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="n">version_number</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">versions</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">])</span> <span class="o">+</span> <span class="mi">1</span>
        <span class="n">timestamp</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
        
        <span class="n">version_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"version"</span><span class="p">:</span> <span class="n">version_number</span><span class="p">,</span>
            <span class="s">"content"</span><span class="p">:</span> <span class="n">prompt_content</span><span class="p">,</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">timestamp</span><span class="p">,</span>
            <span class="s">"metadata"</span><span class="p">:</span> <span class="n">metadata</span> <span class="ow">or</span> <span class="p">{},</span>
            <span class="s">"parent_version"</span><span class="p">:</span> <span class="n">version_number</span> <span class="o">-</span> <span class="mi">1</span> <span class="k">if</span> <span class="n">version_number</span> <span class="o">&gt;</span> <span class="mi">1</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="p">}</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">versions</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">version_data</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"prompt_id"</span><span class="p">:</span> <span class="n">prompt_id</span><span class="p">,</span>
            <span class="s">"version"</span><span class="p">:</span> <span class="n">version_number</span><span class="p">,</span>
            <span class="s">"created_at"</span><span class="p">:</span> <span class="n">timestamp</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">track_performance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_id</span><span class="p">,</span> <span class="n">version</span><span class="p">,</span> <span class="n">performance_metrics</span><span class="p">):</span>
        <span class="s">"""성능 추적"""</span>
        <span class="n">performance_record</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"prompt_id"</span><span class="p">:</span> <span class="n">prompt_id</span><span class="p">,</span>
            <span class="s">"version"</span><span class="p">:</span> <span class="n">version</span><span class="p">,</span>
            <span class="s">"metrics"</span><span class="p">:</span> <span class="n">performance_metrics</span><span class="p">,</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="k">if</span> <span class="n">prompt_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">:</span>
            <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">performance_record</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">get_best_performing_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_id</span><span class="p">,</span> <span class="n">metric</span><span class="o">=</span><span class="s">"overall_score"</span><span class="p">):</span>
        <span class="s">"""최고 성능 버전 조회"""</span>
        <span class="k">if</span> <span class="n">prompt_id</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        
        <span class="n">performance_records</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">performance_history</span><span class="p">[</span><span class="n">prompt_id</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">performance_records</span><span class="p">:</span>
            <span class="k">return</span> <span class="bp">None</span>
        
        <span class="n">best_record</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span>
            <span class="n">performance_records</span><span class="p">,</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="s">"metrics"</span><span class="p">].</span><span class="n">get</span><span class="p">(</span><span class="n">metric</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"best_version"</span><span class="p">:</span> <span class="n">best_record</span><span class="p">[</span><span class="s">"version"</span><span class="p">],</span>
            <span class="s">"performance"</span><span class="p">:</span> <span class="n">best_record</span><span class="p">[</span><span class="s">"metrics"</span><span class="p">],</span>
            <span class="s">"prompt_content"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_content</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">best_record</span><span class="p">[</span><span class="s">"version"</span><span class="p">])</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">create_branch</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_id</span><span class="p">,</span> <span class="n">base_version</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">,</span> <span class="n">modification</span><span class="p">):</span>
        <span class="s">"""프롬프트 브랜치 생성"""</span>
        <span class="n">base_content</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_content</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">base_version</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">base_content</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">"Base version </span><span class="si">{</span><span class="n">base_version</span><span class="si">}</span><span class="s"> not found for prompt </span><span class="si">{</span><span class="n">prompt_id</span><span class="si">}</span><span class="s">"</span><span class="p">)</span>
        
        <span class="c1"># 브랜치 프롬프트 생성
</span>        <span class="n">branch_prompt_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s">"</span><span class="si">{</span><span class="n">prompt_id</span><span class="si">}</span><span class="s">_</span><span class="si">{</span><span class="n">branch_name</span><span class="si">}</span><span class="s">"</span>
        <span class="n">modified_content</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_apply_modification</span><span class="p">(</span><span class="n">base_content</span><span class="p">,</span> <span class="n">modification</span><span class="p">)</span>
        
        <span class="c1"># 브랜치 기록
</span>        <span class="n">branch_info</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"parent_prompt_id"</span><span class="p">:</span> <span class="n">prompt_id</span><span class="p">,</span>
            <span class="s">"parent_version"</span><span class="p">:</span> <span class="n">base_version</span><span class="p">,</span>
            <span class="s">"branch_name"</span><span class="p">:</span> <span class="n">branch_name</span><span class="p">,</span>
            <span class="s">"modification"</span><span class="p">:</span> <span class="n">modification</span><span class="p">,</span>
            <span class="s">"created_at"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">()</span>
        <span class="p">}</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">branching_history</span><span class="p">[</span><span class="n">branch_prompt_id</span><span class="p">]</span> <span class="o">=</span> <span class="n">branch_info</span>
        
        <span class="c1"># 새 프롬프트 버전 생성
</span>        <span class="k">return</span> <span class="bp">self</span><span class="p">.</span><span class="n">create_version</span><span class="p">(</span>
            <span class="n">branch_prompt_id</span><span class="p">,</span> 
            <span class="n">modified_content</span><span class="p">,</span>
            <span class="p">{</span><span class="s">"branch_info"</span><span class="p">:</span> <span class="n">branch_info</span><span class="p">}</span>
        <span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">compare_versions</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_id</span><span class="p">,</span> <span class="n">version1</span><span class="p">,</span> <span class="n">version2</span><span class="p">):</span>
        <span class="s">"""버전 간 비교"""</span>
        <span class="n">content1</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_content</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">version1</span><span class="p">)</span>
        <span class="n">content2</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_content</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">version2</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">content1</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">content2</span><span class="p">:</span>
            <span class="k">return</span> <span class="p">{</span><span class="s">"error"</span><span class="p">:</span> <span class="s">"One or both versions not found"</span><span class="p">}</span>
        
        <span class="c1"># 성능 비교
</span>        <span class="n">perf1</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_performance</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">version1</span><span class="p">)</span>
        <span class="n">perf2</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_version_performance</span><span class="p">(</span><span class="n">prompt_id</span><span class="p">,</span> <span class="n">version2</span><span class="p">)</span>
        
        <span class="c1"># 텍스트 차이 분석
</span>        <span class="n">diff_analysis</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_analyze_text_differences</span><span class="p">(</span><span class="n">content1</span><span class="p">,</span> <span class="n">content2</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"version1"</span><span class="p">:</span> <span class="p">{</span><span class="s">"content"</span><span class="p">:</span> <span class="n">content1</span><span class="p">,</span> <span class="s">"performance"</span><span class="p">:</span> <span class="n">perf1</span><span class="p">},</span>
            <span class="s">"version2"</span><span class="p">:</span> <span class="p">{</span><span class="s">"content"</span><span class="p">:</span> <span class="n">content2</span><span class="p">,</span> <span class="s">"performance"</span><span class="p">:</span> <span class="n">perf2</span><span class="p">},</span>
            <span class="s">"differences"</span><span class="p">:</span> <span class="n">diff_analysis</span><span class="p">,</span>
            <span class="s">"performance_comparison"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_compare_performance</span><span class="p">(</span><span class="n">perf1</span><span class="p">,</span> <span class="n">perf2</span><span class="p">)</span>
        <span class="p">}</span>
</code></pre></div></div>

<h2 id="3-프롬프트-엔지니어링-도구-평가하기">3. 프롬프트 엔지니어링 도구 평가하기</h2>

<h3 id="31-도구-평가-프레임워크">3.1 도구 평가 프레임워크</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PromptEngineeringToolEvaluator</span><span class="p">:</span>
    <span class="s">"""프롬프트 엔지니어링 도구 평가기"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">evaluation_dimensions</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"functionality"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"prompt_generation"</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
                <span class="s">"optimization"</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
                <span class="s">"testing"</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
                <span class="s">"version_control"</span><span class="p">:</span> <span class="mf">0.15</span><span class="p">,</span>
                <span class="s">"analytics"</span><span class="p">:</span> <span class="mf">0.15</span>
            <span class="p">},</span>
            <span class="s">"usability"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"ease_of_use"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="s">"learning_curve"</span><span class="p">:</span> <span class="mf">0.25</span><span class="p">,</span>
                <span class="s">"interface_design"</span><span class="p">:</span> <span class="mf">0.2</span><span class="p">,</span>
                <span class="s">"documentation"</span><span class="p">:</span> <span class="mf">0.25</span>
            <span class="p">},</span>
            <span class="s">"performance"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"speed"</span><span class="p">:</span> <span class="mf">0.3</span><span class="p">,</span>
                <span class="s">"accuracy"</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                <span class="s">"scalability"</span><span class="p">:</span> <span class="mf">0.3</span>
            <span class="p">},</span>
            <span class="s">"integration"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"api_compatibility"</span><span class="p">:</span> <span class="mf">0.4</span><span class="p">,</span>
                <span class="s">"workflow_integration"</span><span class="p">:</span> <span class="mf">0.35</span><span class="p">,</span>
                <span class="s">"export_options"</span><span class="p">:</span> <span class="mf">0.25</span>
            <span class="p">}</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">evaluate_tool</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tool_name</span><span class="p">,</span> <span class="n">tool_features</span><span class="p">,</span> <span class="n">test_scenarios</span><span class="p">):</span>
        <span class="s">"""도구 종합 평가"""</span>
        <span class="n">evaluation_results</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">dimension</span><span class="p">,</span> <span class="n">criteria</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">evaluation_dimensions</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">dimension_score</span> <span class="o">=</span> <span class="mi">0</span>
            <span class="n">dimension_details</span> <span class="o">=</span> <span class="p">{}</span>
            
            <span class="k">for</span> <span class="n">criterion</span><span class="p">,</span> <span class="n">weight</span> <span class="ow">in</span> <span class="n">criteria</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
                <span class="n">criterion_score</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_criterion</span><span class="p">(</span>
                    <span class="n">tool_features</span><span class="p">,</span> 
                    <span class="n">criterion</span><span class="p">,</span> 
                    <span class="n">test_scenarios</span>
                <span class="p">)</span>
                <span class="n">dimension_details</span><span class="p">[</span><span class="n">criterion</span><span class="p">]</span> <span class="o">=</span> <span class="n">criterion_score</span>
                <span class="n">dimension_score</span> <span class="o">+=</span> <span class="n">criterion_score</span> <span class="o">*</span> <span class="n">weight</span>
            
            <span class="n">evaluation_results</span><span class="p">[</span><span class="n">dimension</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">"score"</span><span class="p">:</span> <span class="n">dimension_score</span><span class="p">,</span>
                <span class="s">"details"</span><span class="p">:</span> <span class="n">dimension_details</span>
            <span class="p">}</span>
        
        <span class="c1"># 종합 점수 계산
</span>        <span class="n">overall_score</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span>
            <span class="n">evaluation_results</span><span class="p">[</span><span class="n">dim</span><span class="p">][</span><span class="s">"score"</span><span class="p">]</span> <span class="o">*</span> <span class="mf">0.25</span> 
            <span class="k">for</span> <span class="n">dim</span> <span class="ow">in</span> <span class="n">evaluation_results</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"tool_name"</span><span class="p">:</span> <span class="n">tool_name</span><span class="p">,</span>
            <span class="s">"overall_score"</span><span class="p">:</span> <span class="n">overall_score</span><span class="p">,</span>
            <span class="s">"dimension_scores"</span><span class="p">:</span> <span class="n">evaluation_results</span><span class="p">,</span>
            <span class="s">"recommendation"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_recommendation</span><span class="p">(</span><span class="n">overall_score</span><span class="p">,</span> <span class="n">evaluation_results</span><span class="p">)</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">benchmark_tools</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">tools_list</span><span class="p">,</span> <span class="n">standard_test_suite</span><span class="p">):</span>
        <span class="s">"""도구 벤치마킹"""</span>
        <span class="n">benchmark_results</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">tool</span> <span class="ow">in</span> <span class="n">tools_list</span><span class="p">:</span>
            <span class="n">tool_results</span> <span class="o">=</span> <span class="p">[]</span>
            
            <span class="k">for</span> <span class="n">test_case</span> <span class="ow">in</span> <span class="n">standard_test_suite</span><span class="p">:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_run_benchmark_test</span><span class="p">(</span><span class="n">tool</span><span class="p">,</span> <span class="n">test_case</span><span class="p">)</span>
                <span class="n">tool_results</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
            
            <span class="n">benchmark_results</span><span class="p">[</span><span class="n">tool</span><span class="p">[</span><span class="s">"name"</span><span class="p">]]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">"individual_results"</span><span class="p">:</span> <span class="n">tool_results</span><span class="p">,</span>
                <span class="s">"aggregate_metrics"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_aggregate_metrics</span><span class="p">(</span><span class="n">tool_results</span><span class="p">),</span>
                <span class="s">"ranking_score"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_ranking_score</span><span class="p">(</span><span class="n">tool_results</span><span class="p">)</span>
            <span class="p">}</span>
        
        <span class="c1"># 순위 매기기
</span>        <span class="n">ranked_tools</span> <span class="o">=</span> <span class="nb">sorted</span><span class="p">(</span>
            <span class="n">benchmark_results</span><span class="p">.</span><span class="n">items</span><span class="p">(),</span>
            <span class="n">key</span><span class="o">=</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="s">"ranking_score"</span><span class="p">],</span>
            <span class="n">reverse</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"benchmark_results"</span><span class="p">:</span> <span class="n">benchmark_results</span><span class="p">,</span>
            <span class="s">"tool_rankings"</span><span class="p">:</span> <span class="n">ranked_tools</span><span class="p">,</span>
            <span class="s">"best_tool"</span><span class="p">:</span> <span class="n">ranked_tools</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">ranked_tools</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">create_evaluation_checklist</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""평가 체크리스트 생성"""</span>
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"기능성 평가"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"프롬프트 자동 생성 기능이 있는가?"</span><span class="p">,</span>
                <span class="s">"A/B 테스팅을 지원하는가?"</span><span class="p">,</span>
                <span class="s">"성능 메트릭을 제공하는가?"</span><span class="p">,</span>
                <span class="s">"버전 관리 기능이 있는가?"</span><span class="p">,</span>
                <span class="s">"템플릿 라이브러리를 제공하는가?"</span>
            <span class="p">],</span>
            <span class="s">"사용성 평가"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"직관적인 인터페이스를 제공하는가?"</span><span class="p">,</span>
                <span class="s">"학습 자료가 충분한가?"</span><span class="p">,</span>
                <span class="s">"온보딩 과정이 원활한가?"</span><span class="p">,</span>
                <span class="s">"사용자 지원이 적절한가?"</span><span class="p">,</span>
                <span class="s">"커스터마이징이 가능한가?"</span>
            <span class="p">],</span>
            <span class="s">"성능 평가"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"응답 시간이 적절한가?"</span><span class="p">,</span>
                <span class="s">"대용량 처리가 가능한가?"</span><span class="p">,</span>
                <span class="s">"안정성이 보장되는가?"</span><span class="p">,</span>
                <span class="s">"정확도가 만족스러운가?"</span><span class="p">,</span>
                <span class="s">"리소스 사용량이 적절한가?"</span>
            <span class="p">],</span>
            <span class="s">"통합성 평가"</span><span class="p">:</span> <span class="p">[</span>
                <span class="s">"기존 워크플로우와 통합되는가?"</span><span class="p">,</span>
                <span class="s">"API가 잘 설계되어 있는가?"</span><span class="p">,</span>
                <span class="s">"다양한 형식으로 내보내기가 가능한가?"</span><span class="p">,</span>
                <span class="s">"다른 도구와의 호환성은 어떤가?"</span><span class="p">,</span>
                <span class="s">"클라우드 서비스와 연동되는가?"</span>
            <span class="p">]</span>
        <span class="p">}</span>

<span class="k">class</span> <span class="nc">PromptTestingFramework</span><span class="p">:</span>
    <span class="s">"""프롬프트 테스팅 프레임워크"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">test_cases</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">evaluation_metrics</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"accuracy"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_accuracy</span><span class="p">,</span>
            <span class="s">"consistency"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_consistency</span><span class="p">,</span>
            <span class="s">"robustness"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_robustness</span><span class="p">,</span>
            <span class="s">"efficiency"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_efficiency</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">create_test_suite</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_template</span><span class="p">,</span> <span class="n">test_scenarios</span><span class="p">):</span>
        <span class="s">"""테스트 스위트 생성"""</span>
        <span class="n">test_suite</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"template"</span><span class="p">:</span> <span class="n">prompt_template</span><span class="p">,</span>
            <span class="s">"test_cases"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"expected_outputs"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"evaluation_criteria"</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">}</span>
        
        <span class="k">for</span> <span class="n">scenario</span> <span class="ow">in</span> <span class="n">test_scenarios</span><span class="p">:</span>
            <span class="n">test_case</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">"input_data"</span><span class="p">:</span> <span class="n">scenario</span><span class="p">[</span><span class="s">"input"</span><span class="p">],</span>
                <span class="s">"expected_output"</span><span class="p">:</span> <span class="n">scenario</span><span class="p">[</span><span class="s">"expected"</span><span class="p">],</span>
                <span class="s">"evaluation_criteria"</span><span class="p">:</span> <span class="n">scenario</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"criteria"</span><span class="p">,</span> <span class="p">[</span><span class="s">"accuracy"</span><span class="p">]),</span>
                <span class="s">"difficulty_level"</span><span class="p">:</span> <span class="n">scenario</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"difficulty"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">)</span>
            <span class="p">}</span>
            <span class="n">test_suite</span><span class="p">[</span><span class="s">"test_cases"</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">test_case</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">test_suite</span>
    
    <span class="k">def</span> <span class="nf">run_comprehensive_test</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">test_suite</span><span class="p">,</span> <span class="n">num_runs</span><span class="o">=</span><span class="mi">3</span><span class="p">):</span>
        <span class="s">"""종합 테스트 실행"""</span>
        <span class="n">test_results</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"test_suite_info"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"total_cases"</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">test_suite</span><span class="p">[</span><span class="s">"test_cases"</span><span class="p">]),</span>
                <span class="s">"num_runs"</span><span class="p">:</span> <span class="n">num_runs</span>
            <span class="p">},</span>
            <span class="s">"individual_results"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"aggregate_metrics"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s">"consistency_analysis"</span><span class="p">:</span> <span class="p">{}</span>
        <span class="p">}</span>
        
        <span class="k">for</span> <span class="n">test_case</span> <span class="ow">in</span> <span class="n">test_suite</span><span class="p">[</span><span class="s">"test_cases"</span><span class="p">]:</span>
            <span class="n">case_results</span> <span class="o">=</span> <span class="p">[]</span>
            
            <span class="c1"># 여러 번 실행하여 일관성 확인
</span>            <span class="k">for</span> <span class="n">run</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">num_runs</span><span class="p">):</span>
                <span class="n">prompt</span> <span class="o">=</span> <span class="n">test_suite</span><span class="p">[</span><span class="s">"template"</span><span class="p">].</span><span class="nb">format</span><span class="p">(</span><span class="o">**</span><span class="n">test_case</span><span class="p">[</span><span class="s">"input_data"</span><span class="p">])</span>
                <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">prompt</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
                
                <span class="c1"># 응답 평가
</span>                <span class="n">evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_evaluate_response</span><span class="p">(</span>
                    <span class="n">response</span><span class="p">,</span>
                    <span class="n">test_case</span><span class="p">[</span><span class="s">"expected_output"</span><span class="p">],</span>
                    <span class="n">test_case</span><span class="p">[</span><span class="s">"evaluation_criteria"</span><span class="p">]</span>
                <span class="p">)</span>
                
                <span class="n">case_result</span> <span class="o">=</span> <span class="p">{</span>
                    <span class="s">"run"</span><span class="p">:</span> <span class="n">run</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                    <span class="s">"prompt"</span><span class="p">:</span> <span class="n">prompt</span><span class="p">,</span>
                    <span class="s">"response"</span><span class="p">:</span> <span class="n">response</span><span class="p">,</span>
                    <span class="s">"evaluation"</span><span class="p">:</span> <span class="n">evaluation</span>
                <span class="p">}</span>
                <span class="n">case_results</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">case_result</span><span class="p">)</span>
            
            <span class="c1"># 케이스별 일관성 분석
</span>            <span class="n">consistency_score</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_analyze_case_consistency</span><span class="p">(</span><span class="n">case_results</span><span class="p">)</span>
            
            <span class="n">test_results</span><span class="p">[</span><span class="s">"individual_results"</span><span class="p">].</span><span class="n">append</span><span class="p">({</span>
                <span class="s">"test_case"</span><span class="p">:</span> <span class="n">test_case</span><span class="p">,</span>
                <span class="s">"runs"</span><span class="p">:</span> <span class="n">case_results</span><span class="p">,</span>
                <span class="s">"consistency_score"</span><span class="p">:</span> <span class="n">consistency_score</span>
            <span class="p">})</span>
        
        <span class="c1"># 전체 메트릭 계산
</span>        <span class="n">test_results</span><span class="p">[</span><span class="s">"aggregate_metrics"</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_aggregate_metrics</span><span class="p">(</span>
            <span class="n">test_results</span><span class="p">[</span><span class="s">"individual_results"</span><span class="p">]</span>
        <span class="p">)</span>
        
        <span class="k">return</span> <span class="n">test_results</span>
    
    <span class="k">def</span> <span class="nf">automated_prompt_testing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">prompt_variations</span><span class="p">,</span> <span class="n">benchmark_dataset</span><span class="p">):</span>
        <span class="s">"""자동화된 프롬프트 테스팅"""</span>
        <span class="n">testing_results</span> <span class="o">=</span> <span class="p">{}</span>
        
        <span class="k">for</span> <span class="n">variation_name</span><span class="p">,</span> <span class="n">prompt_template</span> <span class="ow">in</span> <span class="n">prompt_variations</span><span class="p">.</span><span class="n">items</span><span class="p">():</span>
            <span class="n">variation_results</span> <span class="o">=</span> <span class="p">[]</span>
            
            <span class="k">for</span> <span class="n">benchmark_item</span> <span class="ow">in</span> <span class="n">benchmark_dataset</span><span class="p">:</span>
                <span class="k">try</span><span class="p">:</span>
                    <span class="c1"># 프롬프트 생성
</span>                    <span class="n">formatted_prompt</span> <span class="o">=</span> <span class="n">prompt_template</span><span class="p">.</span><span class="nb">format</span><span class="p">(</span><span class="o">**</span><span class="n">benchmark_item</span><span class="p">[</span><span class="s">"input"</span><span class="p">])</span>
                    
                    <span class="c1"># 모델 실행
</span>                    <span class="n">response</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">model</span><span class="p">.</span><span class="n">generate</span><span class="p">(</span><span class="n">formatted_prompt</span><span class="p">)</span>
                    
                    <span class="c1"># 자동 평가
</span>                    <span class="n">auto_evaluation</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_automated_evaluation</span><span class="p">(</span>
                        <span class="n">response</span><span class="p">,</span>
                        <span class="n">benchmark_item</span><span class="p">[</span><span class="s">"expected"</span><span class="p">],</span>
                        <span class="n">benchmark_item</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"evaluation_type"</span><span class="p">,</span> <span class="s">"exact_match"</span><span class="p">)</span>
                    <span class="p">)</span>
                    
                    <span class="n">variation_results</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s">"input"</span><span class="p">:</span> <span class="n">benchmark_item</span><span class="p">[</span><span class="s">"input"</span><span class="p">],</span>
                        <span class="s">"expected"</span><span class="p">:</span> <span class="n">benchmark_item</span><span class="p">[</span><span class="s">"expected"</span><span class="p">],</span>
                        <span class="s">"actual"</span><span class="p">:</span> <span class="n">response</span><span class="p">,</span>
                        <span class="s">"evaluation"</span><span class="p">:</span> <span class="n">auto_evaluation</span>
                    <span class="p">})</span>
                    
                <span class="k">except</span> <span class="nb">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span>
                    <span class="n">variation_results</span><span class="p">.</span><span class="n">append</span><span class="p">({</span>
                        <span class="s">"input"</span><span class="p">:</span> <span class="n">benchmark_item</span><span class="p">[</span><span class="s">"input"</span><span class="p">],</span>
                        <span class="s">"error"</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">e</span><span class="p">),</span>
                        <span class="s">"evaluation"</span><span class="p">:</span> <span class="p">{</span><span class="s">"score"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s">"error"</span><span class="p">:</span> <span class="bp">True</span><span class="p">}</span>
                    <span class="p">})</span>
            
            <span class="c1"># 변형별 성능 요약
</span>            <span class="n">testing_results</span><span class="p">[</span><span class="n">variation_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
                <span class="s">"individual_results"</span><span class="p">:</span> <span class="n">variation_results</span><span class="p">,</span>
                <span class="s">"summary_metrics"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_variation_metrics</span><span class="p">(</span><span class="n">variation_results</span><span class="p">),</span>
                <span class="s">"success_rate"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_success_rate</span><span class="p">(</span><span class="n">variation_results</span><span class="p">)</span>
            <span class="p">}</span>
        
        <span class="c1"># 최고 성능 변형 식별
</span>        <span class="n">best_variation</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_identify_best_variation</span><span class="p">(</span><span class="n">testing_results</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"testing_results"</span><span class="p">:</span> <span class="n">testing_results</span><span class="p">,</span>
            <span class="s">"best_variation"</span><span class="p">:</span> <span class="n">best_variation</span><span class="p">,</span>
            <span class="s">"comparison_analysis"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_comparison_analysis</span><span class="p">(</span><span class="n">testing_results</span><span class="p">)</span>
        <span class="p">}</span>
</code></pre></div></div>

<h2 id="4-프롬프트-정리-및-버전-관리">4. 프롬프트 정리 및 버전 관리</h2>

<h3 id="41-프롬프트-조직화-시스템">4.1 프롬프트 조직화 시스템</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PromptOrganizationSystem</span><span class="p">:</span>
    <span class="s">"""프롬프트 조직화 시스템"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">prompt_library</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"categories"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s">"tags"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s">"templates"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s">"snippets"</span><span class="p">:</span> <span class="p">{}</span>
        <span class="p">}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">metadata_schema</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"required"</span><span class="p">:</span> <span class="p">[</span><span class="s">"name"</span><span class="p">,</span> <span class="s">"category"</span><span class="p">,</span> <span class="s">"purpose"</span><span class="p">,</span> <span class="s">"created_date"</span><span class="p">],</span>
            <span class="s">"optional"</span><span class="p">:</span> <span class="p">[</span><span class="s">"tags"</span><span class="p">,</span> <span class="s">"author"</span><span class="p">,</span> <span class="s">"version"</span><span class="p">,</span> <span class="s">"performance_metrics"</span><span class="p">,</span> <span class="s">"usage_notes"</span><span class="p">]</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">organize_prompt_library</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="s">"""프롬프트 라이브러리 조직화"""</span>
        <span class="n">organization_structure</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"by_domain"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"business"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"analysis"</span><span class="p">:</span> <span class="p">[</span><span class="s">"market_analysis"</span><span class="p">,</span> <span class="s">"competitor_analysis"</span><span class="p">,</span> <span class="s">"swot_analysis"</span><span class="p">],</span>
                    <span class="s">"strategy"</span><span class="p">:</span> <span class="p">[</span><span class="s">"business_plan"</span><span class="p">,</span> <span class="s">"risk_assessment"</span><span class="p">,</span> <span class="s">"opportunity_evaluation"</span><span class="p">],</span>
                    <span class="s">"operations"</span><span class="p">:</span> <span class="p">[</span><span class="s">"process_optimization"</span><span class="p">,</span> <span class="s">"quality_control"</span><span class="p">,</span> <span class="s">"performance_review"</span><span class="p">]</span>
                <span class="p">},</span>
                <span class="s">"technical"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"development"</span><span class="p">:</span> <span class="p">[</span><span class="s">"code_review"</span><span class="p">,</span> <span class="s">"architecture_design"</span><span class="p">,</span> <span class="s">"debugging"</span><span class="p">],</span>
                    <span class="s">"analysis"</span><span class="p">:</span> <span class="p">[</span><span class="s">"data_analysis"</span><span class="p">,</span> <span class="s">"system_analysis"</span><span class="p">,</span> <span class="s">"performance_analysis"</span><span class="p">],</span>
                    <span class="s">"documentation"</span><span class="p">:</span> <span class="p">[</span><span class="s">"technical_writing"</span><span class="p">,</span> <span class="s">"api_documentation"</span><span class="p">,</span> <span class="s">"user_guides"</span><span class="p">]</span>
                <span class="p">},</span>
                <span class="s">"creative"</span><span class="p">:</span> <span class="p">{</span>
                    <span class="s">"writing"</span><span class="p">:</span> <span class="p">[</span><span class="s">"content_creation"</span><span class="p">,</span> <span class="s">"storytelling"</span><span class="p">,</span> <span class="s">"copywriting"</span><span class="p">],</span>
                    <span class="s">"design"</span><span class="p">:</span> <span class="p">[</span><span class="s">"concept_development"</span><span class="p">,</span> <span class="s">"design_brief"</span><span class="p">,</span> <span class="s">"creative_brief"</span><span class="p">],</span>
                    <span class="s">"marketing"</span><span class="p">:</span> <span class="p">[</span><span class="s">"campaign_development"</span><span class="p">,</span> <span class="s">"brand_messaging"</span><span class="p">,</span> <span class="s">"content_strategy"</span><span class="p">]</span>
                <span class="p">}</span>
            <span class="p">},</span>
            <span class="s">"by_complexity"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"simple"</span><span class="p">:</span> <span class="s">"단일 단계, 직접적인 지시"</span><span class="p">,</span>
                <span class="s">"medium"</span><span class="p">:</span> <span class="s">"다단계 프로세스, 중간 복잡도"</span><span class="p">,</span>
                <span class="s">"complex"</span><span class="p">:</span> <span class="s">"다중 단계, 고도의 추론 필요"</span>
            <span class="p">},</span>
            <span class="s">"by_output_type"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"structured"</span><span class="p">:</span> <span class="p">[</span><span class="s">"lists"</span><span class="p">,</span> <span class="s">"tables"</span><span class="p">,</span> <span class="s">"json"</span><span class="p">,</span> <span class="s">"xml"</span><span class="p">],</span>
                <span class="s">"narrative"</span><span class="p">:</span> <span class="p">[</span><span class="s">"essays"</span><span class="p">,</span> <span class="s">"stories"</span><span class="p">,</span> <span class="s">"reports"</span><span class="p">,</span> <span class="s">"summaries"</span><span class="p">],</span>
                <span class="s">"analytical"</span><span class="p">:</span> <span class="p">[</span><span class="s">"comparisons"</span><span class="p">,</span> <span class="s">"evaluations"</span><span class="p">,</span> <span class="s">"recommendations"</span><span class="p">],</span>
                <span class="s">"creative"</span><span class="p">:</span> <span class="p">[</span><span class="s">"ideas"</span><span class="p">,</span> <span class="s">"concepts"</span><span class="p">,</span> <span class="s">"designs"</span><span class="p">,</span> <span class="s">"proposals"</span><span class="p">]</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">organization_structure</span>
    
    <span class="k">def</span> <span class="nf">create_prompt_template</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">template_config</span><span class="p">):</span>
        <span class="s">"""프롬프트 템플릿 생성"""</span>
        <span class="n">template</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"metadata"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"name"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">[</span><span class="s">"name"</span><span class="p">],</span>
                <span class="s">"category"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">[</span><span class="s">"category"</span><span class="p">],</span>
                <span class="s">"purpose"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">[</span><span class="s">"purpose"</span><span class="p">],</span>
                <span class="s">"complexity"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"complexity"</span><span class="p">,</span> <span class="s">"medium"</span><span class="p">),</span>
                <span class="s">"version"</span><span class="p">:</span> <span class="s">"1.0"</span><span class="p">,</span>
                <span class="s">"created_date"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="s">"tags"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"tags"</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">},</span>
            <span class="s">"structure"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"system_prompt"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"system_prompt"</span><span class="p">,</span> <span class="s">""</span><span class="p">),</span>
                <span class="s">"instruction_template"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">[</span><span class="s">"instruction_template"</span><span class="p">],</span>
                <span class="s">"context_placeholders"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"context_placeholders"</span><span class="p">,</span> <span class="p">[]),</span>
                <span class="s">"output_format"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"output_format"</span><span class="p">,</span> <span class="s">""</span><span class="p">),</span>
                <span class="s">"constraints"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"constraints"</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">},</span>
            <span class="s">"usage"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"parameters"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"parameters"</span><span class="p">,</span> <span class="p">{}),</span>
                <span class="s">"examples"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"examples"</span><span class="p">,</span> <span class="p">[]),</span>
                <span class="s">"best_practices"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"best_practices"</span><span class="p">,</span> <span class="p">[]),</span>
                <span class="s">"common_pitfalls"</span><span class="p">:</span> <span class="n">template_config</span><span class="p">.</span><span class="n">get</span><span class="p">(</span><span class="s">"common_pitfalls"</span><span class="p">,</span> <span class="p">[])</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">template</span>
    
    <span class="k">def</span> <span class="nf">standardize_prompt_format</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">raw_prompt</span><span class="p">):</span>
        <span class="s">"""프롬프트 형식 표준화"""</span>
        <span class="n">standardized</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"header"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_header</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">),</span>
            <span class="s">"main_instruction"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_main_instruction</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">),</span>
            <span class="s">"context_section"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_context</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">),</span>
            <span class="s">"examples_section"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_examples</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">),</span>
            <span class="s">"output_specifications"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_output_specs</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">),</span>
            <span class="s">"constraints"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_constraints</span><span class="p">(</span><span class="n">raw_prompt</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="c1"># 표준 형식으로 재구성
</span>        <span class="n">formatted_prompt</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_reconstruct_prompt</span><span class="p">(</span><span class="n">standardized</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"original"</span><span class="p">:</span> <span class="n">raw_prompt</span><span class="p">,</span>
            <span class="s">"standardized"</span><span class="p">:</span> <span class="n">formatted_prompt</span><span class="p">,</span>
            <span class="s">"components"</span><span class="p">:</span> <span class="n">standardized</span><span class="p">,</span>
            <span class="s">"improvements"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_suggest_improvements</span><span class="p">(</span><span class="n">standardized</span><span class="p">)</span>
        <span class="p">}</span>

<span class="k">class</span> <span class="nc">AdvancedVersionControl</span><span class="p">:</span>
    <span class="s">"""고급 버전 관리 시스템"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">global_config</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"auto_versioning"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">"performance_tracking"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">"collaborative_editing"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
            <span class="s">"backup_frequency"</span><span class="p">:</span> <span class="s">"daily"</span>
        <span class="p">}</span>
    
    <span class="k">def</span> <span class="nf">initialize_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">"""저장소 초기화"""</span>
        <span class="n">repo_config</span> <span class="o">=</span> <span class="n">config</span> <span class="ow">or</span> <span class="p">{}</span>
        
        <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">[</span><span class="n">repo_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"config"</span><span class="p">:</span> <span class="p">{</span><span class="o">**</span><span class="bp">self</span><span class="p">.</span><span class="n">global_config</span><span class="p">,</span> <span class="o">**</span><span class="n">repo_config</span><span class="p">},</span>
            <span class="s">"branches"</span><span class="p">:</span> <span class="p">{</span><span class="s">"main"</span><span class="p">:</span> <span class="p">[]},</span>
            <span class="s">"tags"</span><span class="p">:</span> <span class="p">{},</span>
            <span class="s">"collaborators"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"access_log"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"metadata"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"created"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="s">"last_modified"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
                <span class="s">"total_commits"</span><span class="p">:</span> <span class="mi">0</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="sa">f</span><span class="s">"Repository '</span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="s">' initialized successfully"</span>
    
    <span class="k">def</span> <span class="nf">commit_changes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">,</span> <span class="n">changes</span><span class="p">,</span> <span class="n">commit_message</span><span class="p">,</span> <span class="n">author</span><span class="p">):</span>
        <span class="s">"""변경사항 커밋"""</span>
        <span class="k">if</span> <span class="n">repo_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">"Repository '</span><span class="si">{</span><span class="n">repo_name</span><span class="si">}</span><span class="s">' not found"</span><span class="p">)</span>
        
        <span class="n">repo</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">[</span><span class="n">repo_name</span><span class="p">]</span>
        
        <span class="k">if</span> <span class="n">branch_name</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">repo</span><span class="p">[</span><span class="s">"branches"</span><span class="p">]:</span>
            <span class="n">repo</span><span class="p">[</span><span class="s">"branches"</span><span class="p">][</span><span class="n">branch_name</span><span class="p">]</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="n">commit_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"commit_id"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_commit_id</span><span class="p">(),</span>
            <span class="s">"timestamp"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s">"author"</span><span class="p">:</span> <span class="n">author</span><span class="p">,</span>
            <span class="s">"message"</span><span class="p">:</span> <span class="n">commit_message</span><span class="p">,</span>
            <span class="s">"changes"</span><span class="p">:</span> <span class="n">changes</span><span class="p">,</span>
            <span class="s">"parent_commit"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_latest_commit</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">),</span>
            <span class="s">"performance_metrics"</span><span class="p">:</span> <span class="bp">None</span>  <span class="c1"># 나중에 추가됨
</span>        <span class="p">}</span>
        
        <span class="n">repo</span><span class="p">[</span><span class="s">"branches"</span><span class="p">][</span><span class="n">branch_name</span><span class="p">].</span><span class="n">append</span><span class="p">(</span><span class="n">commit_data</span><span class="p">)</span>
        <span class="n">repo</span><span class="p">[</span><span class="s">"metadata"</span><span class="p">][</span><span class="s">"total_commits"</span><span class="p">]</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">repo</span><span class="p">[</span><span class="s">"metadata"</span><span class="p">][</span><span class="s">"last_modified"</span><span class="p">]</span> <span class="o">=</span> <span class="n">commit_data</span><span class="p">[</span><span class="s">"timestamp"</span><span class="p">]</span>
        
        <span class="c1"># 접근 로그 기록
</span>        <span class="bp">self</span><span class="p">.</span><span class="n">_log_access</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="s">"commit"</span><span class="p">,</span> <span class="n">author</span><span class="p">,</span> <span class="n">commit_data</span><span class="p">[</span><span class="s">"commit_id"</span><span class="p">])</span>
        
        <span class="k">return</span> <span class="n">commit_data</span><span class="p">[</span><span class="s">"commit_id"</span><span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">create_merge_request</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">source_branch</span><span class="p">,</span> <span class="n">target_branch</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">description</span><span class="p">,</span> <span class="n">author</span><span class="p">):</span>
        <span class="s">"""병합 요청 생성"""</span>
        <span class="n">merge_request</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"id"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_merge_request_id</span><span class="p">(),</span>
            <span class="s">"title"</span><span class="p">:</span> <span class="n">title</span><span class="p">,</span>
            <span class="s">"description"</span><span class="p">:</span> <span class="n">description</span><span class="p">,</span>
            <span class="s">"author"</span><span class="p">:</span> <span class="n">author</span><span class="p">,</span>
            <span class="s">"source_branch"</span><span class="p">:</span> <span class="n">source_branch</span><span class="p">,</span>
            <span class="s">"target_branch"</span><span class="p">:</span> <span class="n">target_branch</span><span class="p">,</span>
            <span class="s">"status"</span><span class="p">:</span> <span class="s">"open"</span><span class="p">,</span>
            <span class="s">"created_at"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s">"reviewers"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"comments"</span><span class="p">:</span> <span class="p">[],</span>
            <span class="s">"changes_summary"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_analyze_branch_differences</span><span class="p">(</span>
                <span class="n">repo_name</span><span class="p">,</span> <span class="n">source_branch</span><span class="p">,</span> <span class="n">target_branch</span>
            <span class="p">)</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">merge_request</span>
    
    <span class="k">def</span> <span class="nf">tag_version</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">,</span> <span class="n">tag_name</span><span class="p">,</span> <span class="n">tag_message</span><span class="p">,</span> <span class="n">performance_data</span><span class="o">=</span><span class="bp">None</span><span class="p">):</span>
        <span class="s">"""버전 태그 생성"""</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">[</span><span class="n">repo_name</span><span class="p">]</span>
        <span class="n">latest_commit</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_get_latest_commit</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="ow">not</span> <span class="n">latest_commit</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nb">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s">"No commits found in branch '</span><span class="si">{</span><span class="n">branch_name</span><span class="si">}</span><span class="s">'"</span><span class="p">)</span>
        
        <span class="n">tag_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"tag_name"</span><span class="p">:</span> <span class="n">tag_name</span><span class="p">,</span>
            <span class="s">"commit_id"</span><span class="p">:</span> <span class="n">latest_commit</span><span class="p">[</span><span class="s">"commit_id"</span><span class="p">],</span>
            <span class="s">"message"</span><span class="p">:</span> <span class="n">tag_message</span><span class="p">,</span>
            <span class="s">"created_at"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s">"performance_data"</span><span class="p">:</span> <span class="n">performance_data</span><span class="p">,</span>
            <span class="s">"stability_score"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_stability_score</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">branch_name</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="n">repo</span><span class="p">[</span><span class="s">"tags"</span><span class="p">][</span><span class="n">tag_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">tag_data</span>
        
        <span class="k">return</span> <span class="n">tag_data</span>
    
    <span class="k">def</span> <span class="nf">generate_release_notes</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">from_tag</span><span class="p">,</span> <span class="n">to_tag</span><span class="p">):</span>
        <span class="s">"""릴리스 노트 생성"""</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">[</span><span class="n">repo_name</span><span class="p">]</span>
        
        <span class="n">from_commit</span> <span class="o">=</span> <span class="n">repo</span><span class="p">[</span><span class="s">"tags"</span><span class="p">][</span><span class="n">from_tag</span><span class="p">][</span><span class="s">"commit_id"</span><span class="p">]</span> <span class="k">if</span> <span class="n">from_tag</span> <span class="k">else</span> <span class="bp">None</span>
        <span class="n">to_commit</span> <span class="o">=</span> <span class="n">repo</span><span class="p">[</span><span class="s">"tags"</span><span class="p">][</span><span class="n">to_tag</span><span class="p">][</span><span class="s">"commit_id"</span><span class="p">]</span>
        
        <span class="c1"># 태그 간 변경사항 수집
</span>        <span class="n">changes</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_collect_changes_between_tags</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">from_commit</span><span class="p">,</span> <span class="n">to_commit</span><span class="p">)</span>
        
        <span class="n">release_notes</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"version"</span><span class="p">:</span> <span class="n">to_tag</span><span class="p">,</span>
            <span class="s">"release_date"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">date</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s">"summary"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_change_summary</span><span class="p">(</span><span class="n">changes</span><span class="p">),</span>
            <span class="s">"new_features"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_new_features</span><span class="p">(</span><span class="n">changes</span><span class="p">),</span>
            <span class="s">"improvements"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_improvements</span><span class="p">(</span><span class="n">changes</span><span class="p">),</span>
            <span class="s">"bug_fixes"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_extract_bug_fixes</span><span class="p">(</span><span class="n">changes</span><span class="p">),</span>
            <span class="s">"performance_changes"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_analyze_performance_changes</span><span class="p">(</span><span class="n">repo</span><span class="p">,</span> <span class="n">from_tag</span><span class="p">,</span> <span class="n">to_tag</span><span class="p">),</span>
            <span class="s">"breaking_changes"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_identify_breaking_changes</span><span class="p">(</span><span class="n">changes</span><span class="p">),</span>
            <span class="s">"migration_guide"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_generate_migration_guide</span><span class="p">(</span><span class="n">changes</span><span class="p">)</span>
        <span class="p">}</span>
        
        <span class="k">return</span> <span class="n">release_notes</span>
    
    <span class="k">def</span> <span class="nf">backup_repository</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">repo_name</span><span class="p">,</span> <span class="n">backup_location</span><span class="p">):</span>
        <span class="s">"""저장소 백업"""</span>
        <span class="n">repo</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">repositories</span><span class="p">[</span><span class="n">repo_name</span><span class="p">]</span>
        
        <span class="n">backup_data</span> <span class="o">=</span> <span class="p">{</span>
            <span class="s">"repository_name"</span><span class="p">:</span> <span class="n">repo_name</span><span class="p">,</span>
            <span class="s">"backup_timestamp"</span><span class="p">:</span> <span class="n">datetime</span><span class="p">.</span><span class="n">now</span><span class="p">().</span><span class="n">isoformat</span><span class="p">(),</span>
            <span class="s">"repository_data"</span><span class="p">:</span> <span class="n">copy</span><span class="p">.</span><span class="n">deepcopy</span><span class="p">(</span><span class="n">repo</span><span class="p">),</span>
            <span class="s">"backup_metadata"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s">"total_size"</span><span class="p">:</span> <span class="bp">self</span><span class="p">.</span><span class="n">_calculate_repo_size</span><span class="p">(</span><span class="n">repo</span><span class="p">),</span>
                <span class="s">"compression_used"</span><span class="p">:</span> <span class="bp">True</span><span class="p">,</span>
                <span class="s">"encryption_used"</span><span class="p">:</span> <span class="bp">True</span>
            <span class="p">}</span>
        <span class="p">}</span>
        
        <span class="c1"># 실제 환경에서는 파일 시스템이나 클라우드에 저장
</span>        <span class="n">backup_id</span> <span class="o">=</span> <span class="bp">self</span><span class="p">.</span><span class="n">_save_backup</span><span class="p">(</span><span class="n">backup_data</span><span class="p">,</span> <span class="n">backup_location</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="s">"backup_id"</span><span class="p">:</span> <span class="n">backup_id</span><span class="p">,</span>
            <span class="s">"backup_size"</span><span class="p">:</span> <span class="n">backup_data</span><span class="p">[</span><span class="s">"backup_metadata"</span><span class="p">][</span><span class="s">"total_size"</span><span class="p">],</span>
            <span class="s">"backup_location"</span><span class="p">:</span> <span class="n">backup_location</span>
        <span class="p">}</span>
</code></pre></div></div>

<h2 id="결론">결론</h2>

<p>효과적인 프롬프트 엔지니어링은 <strong>체계적인 접근과 지속적인 개선</strong>을 통해 달성됩니다.</p>

<p><strong>핵심 모범 사례:</strong></p>
<ul>
  <li><strong>명확성 우선</strong>: 구체적이고 명시적인 지시로 모호함 제거</li>
  <li><strong>충분한 컨텍스트</strong>: 배경 정보와 제약 조건을 명확히 제공</li>
  <li><strong>단계적 분해</strong>: 복잡한 작업을 관리 가능한 단위로 분할</li>
  <li><strong>사고 시간 제공</strong>: 모델이 충분히 추론할 수 있는 구조 설계</li>
  <li><strong>반복적 개선</strong>: 지속적인 테스트와 피드백을 통한 최적화</li>
  <li><strong>체계적 관리</strong>: 버전 관리와 성능 추적을 통한 품질 보장</li>
</ul>

<p>다음 포스트에서는 <strong>방어적 프롬프트 엔지니어링과 보안 대응 전략</strong>을 다루겠습니다.</p>

<hr />

<p><strong>시리즈 연결:</strong></p>
<ul>
  <li>이전: <a href="/2024/12/15/prompt-engineering-fundamentals/">프롬프트 엔지니어링 기초와 인컨텍스트 학습 완벽 가이드</a></li>
  <li>다음: <a href="/2024/12/22/defensive-prompt-engineering/">방어적 프롬프트 엔지니어링과 보안 대응 전략</a></li>
</ul>

<p><strong>참고 자료:</strong></p>
<ul>
  <li><a href="https://www.promptingguide.ai/">Prompt Engineering Guide</a></li>
  <li><a href="https://platform.openai.com/docs/guides/prompt-engineering">OpenAI Best Practices for Prompt Engineering</a></li>
  <li><a href="https://arxiv.org/abs/2212.08073">Constitutional AI: Harmlessness from AI Feedback</a></li>
</ul>

  </div>

  <footer class="post-footer">
    <div class="post-navigation"><div class="nav-previous">
        <a href="/ai-blog/2024/12/15/prompt-engineering-fundamentals/" rel="prev">
          <i class="icon-left-arrow"></i>
          <span class="nav-title">프롬프트 엔지니어링 기초와 인컨텍스트 학습 완벽 가이드</span>
        </a>
      </div><div class="nav-next">
        <a href="/ai-blog/2024/12/20/adversarial-networks-deep-dive/" rel="next">
          <span class="nav-title">Adversarial Networks 심화 분석 - AudioCraft Custom ...</span>
          <i class="icon-right-arrow"></i>
        </a>
      </div></div>
  </footer>
  </article></div>

    </section>
    <footer class="condensed">
      <ul class="social about-footer condensed"><a href="https://github.com/leeyonghe" target="_blank">
          <li>
            <i class="icon-github-circled"></i>
          </li>
        </a><a href="https://www.linkedin.com/in/lee-yong-hee-18912454/" target="_blank">
          <li>
            <i class="icon-linkedin-squared"></i>
          </li>
        </a><!----></ul><p class="about-footer condensed">&copy;
        2025</p><div class="about-footer condensed">
        <p>Dark Mode
          <i class="icon-moon"></i>
          <label class="switch">
            <input type="checkbox" class="dark-mode-toggle">
            <span class="slider round" onclick="toggleDarkMode()"></span>
          </label>
        </p>
      </div>
    </footer>
  </main>
  
  <script type="text/javascript" src="/ai-blog/assets/js/darkmode.js"></script>
  
  <script src="/ai-blog/assets/js/simple-jekyll-search.min.js"></script>
  <script src="/ai-blog/assets/js/search.js"></script>
  
</body>

</html>
